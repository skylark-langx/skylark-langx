/**
 * skylark-langx - A simple JavaScript language extension library, including class support, Evented class, Deferred class and some commonly used tool functions.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.5
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var r=n.define,require=n.require,e="function"==typeof r&&r.amd,i=!e&&"undefined"!=typeof exports;if(!e&&!r){var s={};r=n.define=function(t,n,r){"function"==typeof r?(s[t]={factory:r,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var r=n.split("/"),e=t.split("/");r.pop();for(var i=0;i<e.length;i++)"."!=e[i]&&(".."==e[i]?r.pop():r.push(e[i]));return r.join("/")}(n,t)}),resolved:!1,exports:null},require(t)):s[t]={factory:null,resolved:!0,exports:r}},require=n.require=function(t){if(!s.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=s[t];if(!module.resolved){var r=[];module.deps.forEach(function(t){r.push(require(t))}),module.exports=module.factory.apply(n,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-langx-ns/_attach",[],function(){return function(t,n,r){"string"==typeof n&&(n=n.split("."));for(var e=n.length,i=t,s=0,a=n[s++];s<e;)i=i[a]=i[a]||{},a=n[s++];if(i[a]){if(r)throw new Error("This namespace already exists:"+n)}else i[a]=r||{};return i[a]}}),t("skylark-langx-ns/ns",["./_attach"],function(t){var n={attach:function(r,e){return t(n,r,e)}};return n}),t("skylark-langx-ns/main",["./ns"],function(t){return t}),t("skylark-langx-ns",["skylark-langx-ns/main"],function(t){return t}),t("skylark-langx/skylark",["skylark-langx-ns"],function(t){return t}),t("skylark-langx-arrays/arrays",["skylark-langx-ns"],function(t){return t.attach("langx.arrays")}),t("skylark-langx-arrays/base-find-index",["./arrays"],function(t){return t.baseFindIndex=function(t,n,r,e){var i=t.length,s=r+(e?1:-1);for(;e?s--:++s<i;)if(n(t[s],s,t))return s;return-1}}),t("skylark-langx-arrays/base-indexof",["./arrays","./base-find-index"],function(t,n){function r(t){return t!=t}return t.baseIndexOf=function(t,e,i){if(e!=e)return n(t,r,i);var s=i-1,a=t.length;for(;++s<a;)if(t[s]===e)return s;return-1}}),t("skylark-langx-arrays/filter",["./arrays"],function(t){var n=Array.prototype.filter;return t.filter=function(t,r){return n.call(t,r)}}),t("skylark-langx-arrays/compact",["./arrays","./filter"],function(t,n){return t.compact=function(t){return n(t,function(t){return null!=t})}}),t("skylark-langx-arrays/in-array",["./arrays"],function(t){return t.inArray=function(t,n){if(!n)return-1;var r;if(n.indexOf)return n.indexOf(t);r=n.length;for(;r--;)if(n[r]===t)return r;return-1}}),t("skylark-langx-arrays/contains",["./arrays","./in-array"],function(t,n){return t.contains=function(t,r){return n(r,t)}}),t("skylark-langx-funcs/funcs",["skylark-langx-ns"],function(t,n,r){return t.attach("langx.funcs",{noop:function(){},returnTrue:function(){return!0},returnFalse:function(){return!1}})}),t("skylark-langx-funcs/rest-arguments",["./funcs"],function(t){return t.restArguments=function(t,n){return n=null==n?t.length-1:+n,function(){for(var r=Math.max(arguments.length-n,0),e=Array(r),i=0;i<r;i++)e[i]=arguments[i+n];switch(n){case 0:return t.call(this,e);case 1:return t.call(this,arguments[0],e);case 2:return t.call(this,arguments[0],arguments[1],e)}var s=Array(n+1);for(i=0;i<n;i++)s[i]=arguments[i];return s[n]=e,t.apply(this,s)}}}),t("skylark-langx-funcs/bind-all",["./funcs","./rest-arguments"],function(t,n){return t.bindAll=n(function(t,n){var r=n.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var e=n[r];t[e]=t[e].bind(t)}})}),t("skylark-langx-types/types",["skylark-langx-ns"],function(t){var n,r=Array.isArray,e={}.toString,i=(n={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t){n["[object "+t+"]"]=t.toLowerCase()}),function(t){return null==t?String(t):n[e.call(t)]||"object"}),s=r||function(t){return object&&object.constructor===Array};function a(t){var n;for(n in t)if(null!==t[n])return!1;return!0}function o(t){return"function"==i(t)}function u(t){return t&&t.nodeType}function h(t){return"number"==typeof t}function c(t){var n=typeof t;return"function"===n||"object"===n&&!!t}function l(t){return"string"==typeof t}function f(t){return t&&t==t.window}function y(t){return"symbol"==typeof t}var p=1/0,g=1.7976931348623157e308,m=NaN,d=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,v=/^0o[0-7]+$/i,w=parseInt;function _(t){if(!t)return 0===t?t:0;if((t=b(t))===p||t===-p){var n=t<0?-1:1;return n*g}return t==t?t:0}function b(t){if("number"==typeof t)return t;if(y(t))return m;if(c(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=c(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var r=k.test(t);return r||v.test(t)?w(t.slice(2),r?2:8):x.test(t)?m:+t}return t.attach("langx.types",{isArray:s,isArrayLike:function(t){return!l(t)&&!u(t)&&"number"==typeof t.length&&!o(t)},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===e.call(t)},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isElement:function(t){return!(!t||1!==t.nodeType)},isEmpty:a,isEmptyObject:a,isFunction:o,isHtmlNode:u,isNaN:function(t){return isNaN(t)},isNull:function(t){return null===t},isNumber:h,isNumeric:h,isObject:c,isPlainObject:function(t){return c(t)&&!f(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:l,isSameOrigin:function(t){if(t){var n=location.protocol+"//"+location.hostname;return location.port&&(n+=":"+location.port),t.startsWith(n)}},isSymbol:y,isUndefined:function(t){return void 0===t},isWindow:f,type:i,toFinite:_,toNumber:b,toInteger:function(t){var n=_(t),r=n%1;return n==n?r?n-r:n:0}})}),t("skylark-langx-types/main",["./types"],function(t){return t}),t("skylark-langx-types",["skylark-langx-types/main"],function(t){return t}),t("skylark-langx-funcs/defer",["skylark-langx-types","./funcs"],function(t,n){return n.defer=function(n,r,e,i){var s={cancel:null},a=n;t.isNumber(r)||t.isFunction(r)||(i=e,e=r,r=0);e&&(a=function(){n.apply(i,e)});if(t.isFunction(r)){var o=!1;r(function(){o||a()}),s.cancel=function(){o=!0}}else{var u;0==r&&requestAnimationFrame?(u=requestAnimationFrame(a),s.cancel=function(){return cancelAnimationFrame(u)}):(u=setTimeout(a,r),s.cancel=function(){return clearTimeout(u)})}return s}}),t("skylark-langx-funcs/debounce",["./funcs","./defer"],function(t,n){return t.debounce=function(t,r,e){var i,s,a=function(){var a=this,u=arguments;return o(),i=setTimeout(function(){i=null,e?s=n(t,u,a):t.apply(a,u)},r),{cancel:o}},o=a.cancel=function(){i&&clearTimeout(i),s&&s.cancel(),i=void 0,s=void 0};return a}}),t("skylark-langx-objects/objects",["skylark-langx-ns","skylark-langx-types"],function(t,n){return t.attach("langx.objects",{attach:t.attach})}),t("skylark-langx-objects/all-keys",["skylark-langx-types","./objects"],function(t,n){return n.allKeys=function(n){if(!t.isObject(n))return[];var r=[];for(var e in n)r.push(e);return r}}),t("skylark-langx-objects/assign",["skylark-langx-types","./objects"],function(t,n){return n.assign=Object.assign}),t("skylark-langx-objects/to-key",["skylark-langx-types","./objects"],function(t,n){const r=t.isSymbol,e=t.isString,i=1/0;return n.toKey=function(t){if(e(t)||r(t))return t;const n=`${t}`;return"0"==n&&1/t==-i?"-0":n}}),t("skylark-langx-objects/is-key",["skylark-langx-types","./objects"],function(t,n){const r=t.isSymbol,e=t.isArray,i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;return n.isKey=function(t,n){if(e(t))return!1;const a=typeof t;if("number"===a||"boolean"===a||null==t||r(t))return!0;return s.test(t)||!i.test(t)||null!=n&&t in Object(n)}}),t("skylark-langx-objects/_cast_path",["skylark-langx-types","./objects","./is-key"],function(t,n,r){const e=".".charCodeAt(0),i=/\\(\\)?/g,s=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),a=t=>{const n=[];return t.charCodeAt(0)===e&&n.push(""),t.replace(s,(t,r,e,s)=>{let a=t;e?a=s.replace(i,"$1"):r&&(a=r.trim()),n.push(a)}),n};return function(n,e){if(t.isArray(n))return n;return r(n,e)?[n]:a(n)}}),t("skylark-langx-objects/get",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(t,n,r,e){return n.get=function(t,n,i){const s=null==t?void 0:function(t,n){let i=0;const s=(n=e(n,t)).length;for(;null!=t&&i<s;)t=t[r(n[i++])];return i&&i==s?t:void 0}(t,n);return void 0===s?i:s}}),t("skylark-langx-objects/base-at",["./objects","./get"],function(t,n){return t.baseAt=function(t,r){let e=-1;const i=r.length,s=new Array(i),a=null==t;for(;++e<i;)s[e]=a?void 0:n(t,r[e]);return s}}),t("skylark-langx-objects/clone",["skylark-langx-types","./objects"],function(t,n){var r=t.isPlainObject,e=t.isArray;return n.clone=function t(n,i){var s;if(void 0===n||null===n)s=n;else if(i&&n.clone)s=n.clone();else if(e(n)){s=[];for(var a=0;a<n.length;a++)s.push(t(n[a]))}else if(r(n))for(var o in s={},n)s[o]=t(n[o]);else s=n;return s}}),t("skylark-langx-objects/defaults",["./objects","./all-keys"],function(t,n){return t.defaults=(r=n,e=!0,function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||null==t)return t;for(var i=1;i<n;i++)for(var s=arguments[i],a=r(s),o=a.length,u=0;u<o;u++){var h=a[u];e&&void 0!==t[h]||(t[h]=s[h])}return t});var r,e}),t("skylark-langx-objects/each",["./objects"],function(t){return t.each=function(t,n,r){var e,i,s,a;if(t)if(void 0===(e=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],!1===(r?n.call(a,a,i):n.call(a,i,a))))break}else for(s=0;s<e&&(a=t[s],!1!==(r?n.call(a,a,s):n.call(a,s,a)));s++);return this}}),t("skylark-langx-objects/_mixin",["skylark-langx-types","./objects"],function(t,n){var r=t.isPlainObject;return function t(n,e,i,s){for(var a in e)s&&void 0!==n[a]||(i&&r(e[a])?(r(n[a])||(n[a]={}),t(n[a],e[a],i,s)):void 0!==e[a]&&(n[a]=e[a]));return n}}),t("skylark-langx-objects/_parse_mixin_args",["skylark-langx-types","./objects"],function(t,n){var r=Array.prototype.slice,e=t.isBoolean;return function(t){var n=r.call(arguments,0),i=n.shift(),s=!1;e(n[n.length-1])&&(s=n.pop());return{target:i,sources:n,deep:s}}}),t("skylark-langx-objects/mixin",["skylark-langx-types","./objects","./_mixin","./_parse_mixin_args"],function(t,n,r,e){return n.mixin=function(){var t=e.apply(this,arguments);return t.sources.forEach(function(n){r(t.target,n,t.deep,!1)}),t.target}}),t("skylark-langx-objects/extend",["./objects","./mixin"],function(t,n){var r=Array.prototype.slice;return t.extend=function(t){var e,i=r.call(arguments,1);"boolean"==typeof t&&(e=t,t=i.shift());0==i.length&&(i=[t],t=this);return i.forEach(function(r){n(t,r,e)}),t}}),t("skylark-langx-objects/for-each",["./objects","./each"],function(t,n){return t.forEach=function(t,r){if(!t)return;t.forEach?t.forEach(r):n(t,r,!0)}}),t("skylark-langx-objects/has",["skylark-langx-types","./objects"],function(t,n){var r=Object.prototype.hasOwnProperty;return n.has=function(n,e){if(!t.isArray(e))return null!=n&&r.call(n,e);for(var i=e.length,s=0;s<i;s++){var a=e[s];if(null==n||!r.call(n,a))return!1;n=n[a]}return!!i}}),t("skylark-langx-objects/includes",["./objects"],function(t){return t.includes=function(t,n,r,e){t=isArrayLike(t)?t:values(t),r=r&&!e?toInteger(r):0;var i=t.length;r<0&&(r=nativeMax(i+r,0));return isString(t)?r<=i&&t.indexOf(n,r)>-1:!!i&&baseIndexOf(t,n,r)>-1}}),t("skylark-langx-objects/is-equal",["skylark-langx-types","./objects"],function(t,n){var r,e,i=t.isFunction,s="undefined"!=typeof Symbol?Symbol.prototype:null;return r=function(t,n,r,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var s=typeof t;return("function"===s||"object"===s||"object"==typeof n)&&e(t,n,r,i)},e=function(t,n,e,a){var o=toString.call(t);if(o!==toString.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(n)}var u="[object Array]"===o;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var h=t.constructor,c=n.constructor;if(h!==c&&!(i(h)&&h instanceof h&&i(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],a=a||[];for(var l=e.length;l--;)if(e[l]===t)return a[l]===n;if(e.push(t),a.push(n),u){if((l=t.length)!==n.length)return!1;for(;l--;)if(!r(t[l],n[l],e,a))return!1}else{var f,y=Object.keys(t);if(l=y.length,Object.keys(n).length!==l)return!1;for(;l--;)if(f=y[l],void 0===n[f]||!r(t[f],n[f],e,a))return!1}return e.pop(),a.pop(),!0},n.isEqual=function(t,n){return r(t,n)}}),t("skylark-langx-objects/keys",["skylark-langx-types","./objects","./has"],function(t,n,r){return n.keys=function(n){if(!t.isObject(n))return[];var e=[];for(var i in n)r(n,i)&&e.push(i);return e}}),t("skylark-langx-objects/is-match",["skylark-langx-types","./objects","./keys"],function(t,n,r){return n.isMatch=function(t,n){var r=r(n),e=r.length;if(null==t)return!e;for(var i=Object(t),s=0;s<e;s++){var a=r[s];if(n[a]!==i[a]||!(a in i))return!1}return!0}}),t("skylark-langx-objects/omit",["./objects","./mixin"],function(t,n){return t.omit=function(t,r,e){if(!t)return null;for(var i=n({},t),s=1;s<arguments.length;s++){var a=arguments[s];a in t&&delete i[a]}return i}}),t("skylark-langx-objects/pick",["./objects"],function(t){return t.pick=function(t,n,r){if(!t)return null;for(var e={},i=1;i<arguments.length;i++){var s=arguments[i];s in t&&(e[s]=t[s])}return e}}),t("skylark-langx-objects/remove-items",["skylark-langx-types","./objects"],function(t,n){return n.removeItem=function(n,r){if(t.isArray(n)){var e=n.indexOf(r);-1!=e&&n.splice(e,1)}else if(t.isPlainObject(n))for(var i in n)if(n[i]==r){delete n[i];break}return this}}),t("skylark-langx-objects/result",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(t,n,r,e){t.isArray;var i=t.isFunction;return n.result=function(t,n,s){let a=-1,o=(n=e(n,t)).length;o||(o=1,t=void 0);for(;++a<o;){let e=null==t?void 0:t[r(n[a])];void 0===e&&(a=o,e=s),t=i(e)?e.call(t):e}return t}}),t("skylark-langx-objects/safe-mixin",["./objects","./_mixin","./_parse_mixin_args"],function(t,n,r){return t.safeMixin=function(){var t=r.apply(this,arguments);return t.sources.forEach(function(r){n(t.target,r,t.deep,!0)}),t.target}}),t("skylark-langx-objects/scall",["./objects"],function(t){const n=Array.prototype.slice;return t.scall=function(t,r,e,i){if(t&&t[r]){var s=n.call(arguments,2);return t[r].apply(t,s)}}}),t("skylark-langx-objects/is-index",["skylark-langx-types","./objects"],function(t,n){const r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;return n.isIndex=function(t,n){const i=typeof t;return!!(n=null==n?r:n)&&("number"===i||"symbol"!==i&&e.test(t))&&t>-1&&t%1==0&&t<n}}),t("skylark-langx-objects/set",["skylark-langx-types","./objects","./_cast_path","./is-index","./to-key"],function(t,n,r,e,i){return n.set=function(n,s,a){return null==n?n:function(n,s,a,o){if(!t.isObject(n))return n;const u=(s=r(s,n)).length,h=u-1;let c=-1,l=n;for(;null!=l&&++c<u;){const n=i(s[c]);let r=a;if(c!=h){const i=l[n];void 0===(r=o?o(i,n,l):void 0)&&(r=t.isObject(i)?i:e(s[c+1])?[]:{})}l[n]=r,l=l[n]}return n}(n,s,a)}}),t("skylark-langx-objects/shadow",["./objects"],function(t){return t.shadow=function(t,n,r){return Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}}),t("skylark-langx-objects/unset",["skylark-langx-types","./objects","./set"],function(t,n,r){return n.unset=function(t,n){return null==t||r(t,n,void 0)}}),t("skylark-langx-objects/values",["skylark-langx-types","./objects","./all-keys"],function(t,n,r){return n.values=function(t){for(var n=r(t),e=n.length,i=Array(e),s=0;s<e;s++)i[s]=t[n[s]];return i}}),t("skylark-langx-objects/main",["./objects","./all-keys","./assign","./base-at","./clone","./defaults","./each","./extend","./for-each","./get","./has","./includes","./is-equal","./is-key","./is-match","./keys","./mixin","./omit","./pick","./remove-items","./result","./safe-mixin","./scall","./set","./shadow","./to-key","./unset","./values"],function(t){return t}),t("skylark-langx-objects",["skylark-langx-objects/main"],function(t){return t}),t("skylark-langx-funcs/delegate",["skylark-langx-objects","./funcs"],function(t,n){var r=t.mixin,e=function(){function t(){}return function(n,e){t.prototype=n;var i=new t;return t.prototype=null,e&&r(i,e),i}}();return n.delegate=e}),t("skylark-langx-funcs/loop",["./funcs"],function(t){function n(t){this.callback=t,this.running=!1,this.id=-1}return n.prototype.start=function(){if(!this.running){this.running=!0;var t=this;!function n(){t.callback();t.running&&(t.id=requestAnimationFrame(n))}()}},n.prototype.stop=function(){this.running=!1,cancelAnimationFrame(this.id)},t.loop=function(t){return new n(t)}}),t("skylark-langx-funcs/negate",["./funcs"],function(t){return t.negate=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(...n){return!t.apply(this,n)}}}),t("skylark-langx-funcs/proxy",["skylark-langx-types","./funcs"],function(t,n){var r=Array.prototype.slice,e=t.isFunction,i=t.isString;return n.bind=n.proxy=function t(n,s){var a=2 in arguments&&r.call(arguments,2);if(e(n)){return function(){return n.apply(s,a?a.concat(r.call(arguments)):arguments)}}if(i(s))return a?(a.unshift(n[s],n),t.apply(null,a)):t(n[s],n);throw new TypeError("expected function")}}),t("skylark-langx-funcs/template",["skylark-langx-objects","./funcs","./proxy"],function(t,n,r){Array.prototype.slice;var e={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},i=/(.)^/,s={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},a=/\\|'|\r|\n|\t|\u2028|\u2029/g;function o(n,o,u){var h;u=t.defaults({},u,e);var c=RegExp([(u.escape||i).source,(u.interpolate||i).source,(u.evaluate||i).source].join("|")+"|$","g"),l=0,f="__p+='";n.replace(c,function(t,r,e,i,o){return f+=n.slice(l,o).replace(a,function(t){return"\\"+s[t]}),r&&(f+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(f+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(f+="';\n"+i+"\n__p+='"),l=o+t.length,t}),f+="';\n",u.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{h=new Function(u.variable||"obj","_",f)}catch(t){throw t.source=f,t}if(o)return h(o,this);var y=r(function(t){return h.call(this,t,this)},this),p=u.variable||"obj";return y.source="function("+p+"){\n"+f+"}",y}return o.templateSettings=n.templateSettings=e,n.template=o}),t("skylark-langx-funcs/throttle",["./funcs"],function(t){return t.throttle=function(t,n){let r=window.performance.now();return function(...e){const i=window.performance.now();i-r>=n&&(t(...e),r=i)}}}),t("skylark-langx-funcs/main",["./funcs","./bind-all","./debounce","./defer","./delegate","./loop","./negate","./proxy","./rest-arguments","./template","./throttle"],function(t){return t}),t("skylark-langx-funcs",["skylark-langx-funcs/main"],function(t){return t}),t("skylark-langx-arrays/flatten",["skylark-langx-types","./arrays"],function(t,n){return n.flatten=function(n){if(t.isArrayLike(n)){for(var r=[],e=0;e<n.length;e++){var i=n[e];if(t.isArrayLike(i))for(var s=0;s<i.length;s++)r.push(i[s]);else r.push(i)}return r}return n}}),t("skylark-langx-arrays/difference",["skylark-langx-funcs","./arrays","./flatten","./filter","./contains"],function(t,n,r,e,i){var s=t.restArguments(function(t,n){return n=r(n,!0,!0),e(t,function(t){return!i(n,t)})});return n.difference=s}),t("skylark-langx-arrays/find",["./arrays"],function(t){var n=Array.prototype.find;return t.find=function(t,r){return n.call(t,r)}}),t("skylark-langx-arrays/first",["./arrays"],function(t){return t.first=function(t,n){return n?t.slice(0,n):t[0]}}),t("skylark-langx-arrays/grep",["skylark-langx-objects","./arrays"],function(t,n){return n.grep=function(n,r){var e=[];return t.each(n,function(t,n){r(n,t)&&e.push(n)}),e}}),t("skylark-langx-arrays/indexof",["./arrays"],function(t){return t.indexOf=function(t,n){return t.indexOf(n)}}),t("skylark-langx-arrays/last",["./arrays"],function(t){return t.last=function(t){return t[t.length-1]}}),t("skylark-langx-arrays/make-array",["skylark-langx-types","./arrays"],function(t,n){return n.makeArray=function(n,r,e){if(t.isArrayLike(n))return(e||[]).concat(Array.prototype.slice.call(n,r||0));return[n]}}),t("skylark-langx-arrays/map",["skylark-langx-types","./arrays","./flatten"],function(t,n,r){return n.map=function(n,e){var i,s,a,o=[];if(t.isArrayLike(n))for(s=0;s<n.length;s++)null!=(i=e.call(n[s],n[s],s))&&o.push(i);else for(a in n)null!=(i=e.call(n[a],n[a],a))&&o.push(i);return r(o)}}),t("skylark-langx-arrays/merge",["./arrays"],function(t){return t.merge=function(t,n){var r=n.length,e=t.length,i=0;if("number"==typeof r)for(;i<r;i++)t[e++]=n[i];else for(;void 0!==n[i];)t[e++]=n[i++];return t.length=e,t}}),t("skylark-langx-arrays/pull-at",["skylark-langx-types","skylark-langx-objects","./arrays"],function(t,n,r){return r.pullAt=function(t,...r){null==t||t.length;const e=n.baseAt(t,r);r.sort(function(t,n){return t-n});for(let n=r.length-1;n>=0;n--)t.slice(r[n],1);return e}}),t("skylark-langx-arrays/reduce",["./arrays"],function(t){return t.reduce=function(t,n,r){return Array.prototype.reduce.call(t,n,r)}}),t("skylark-langx-arrays/uniq",["./arrays","./filter"],function(t,n){return t.uniq=function(t){return n(t,function(n,r){return t.indexOf(n)==r})}}),t("skylark-langx-arrays/without",["skylark-langx-funcs","./arrays","./difference"],function(t,n,r){var e=t.restArguments(function(t,n){return r(t,n)});return n.without=e}),t("skylark-langx-arrays/main",["./arrays","./base-find-index","./base-indexof","./compact","./contains","./difference","./filter","./find","./first","./flatten","./grep","./in-array","./indexof","./last","./make-array","./map","./merge","./pull-at","./reduce","./uniq","./without"],function(t){return t}),t("skylark-langx-arrays",["skylark-langx-arrays/main"],function(t){return t}),t("skylark-langx/arrays",["skylark-langx-arrays"],function(t){return t}),t("skylark-langx-constructs/constructs",["skylark-langx-ns"],function(t){return t.attach("langx.constructs",{})}),t("skylark-langx-constructs/inherit",["./constructs"],function(t){return t.inherit=function(t,n){if("function"!=typeof n&&n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Object.setPrototypeOf(t,n)}}),t("skylark-langx-constructs/klass",["skylark-langx-ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","./constructs","./inherit"],function(t,n,r,e,i,s){var a=e.uniq,o=r.has,u=r.mixin,h=n.isArray,c=n.isDefined,l=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function r(e,i,l,f){h(i)&&(f=l,l=i,i=null),i=i||Object,c(l)&&!h(l)&&(f=l,l=!1);var y=i;l&&(l=function(t,n){var r=[];return n.forEach(function(t){if(o(t,"__mixins__"))throw new Error("nested mixins");for(var n=[];t;)n.unshift(t),t=t.superclass;r=r.concat(n)}),(r=(r=a(r)).filter(function(n){for(var r=t;r;){if(n===r)return!1;if(o(r,"__mixins__"))for(var e=r.__mixins__,i=0;i<e.length;i++)if(e[i]===n)return!1;r=r.superclass}return!0})).length>0&&r}(y,l)),l&&(y=function(t,n){for(var r=t,e=0;e<n.length;e++){var i=new Function;s(i,r),i.superclass=null,u(i.prototype,n[e].prototype),i.prototype.__mixin__=n[e],r=i}return r}(y,l));var p=e.klassName||"",g=new Function("return function "+p+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return s(g,y),g.superclass=i,g._constructor||(g._constructor=t),l&&(g.__mixins__=l),g.partial||(g.partial=function(t,r){return function(t,r,e){var i=t.prototype,s=t.superclass.prototype,a=e&&e.noOverrided;e&&e.overrides;for(var o in r)if("constructor"!==o){var u=r[o];"function"==typeof r[o]?i[o]=u._constructor||a||"function"!=typeof s[o]?u:function(t,n,r){return function(){var t=this.overrided;this.overrided=r;var e=n.apply(this,arguments);return this.overrided=t,e}}(0,u,s[o]):n.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(i,o,u):i[o]=u}return t}(this,t,r)}),g.inherit||(g.inherit=function(t,n,e){return r(t,this,n,e)}),g.partial(e,f),g}}();return i.klass=l}),t("skylark-langx-constructs/main",["./constructs","./inherit","./klass"],function(t){return t}),t("skylark-langx-constructs",["skylark-langx-constructs/main"],function(t){return t}),t("skylark-langx-klass/klass",["skylark-langx-ns","skylark-langx-constructs"],function(t,n){return t.attach("langx.klass",n.klass)}),t("skylark-langx-klass/main",["./klass"],function(t){return t}),t("skylark-langx-klass",["skylark-langx-klass/main"],function(t){return t}),t("skylark-langx/klass",["skylark-langx-klass"],function(t){return t}),t("skylark-langx/array-store",["./klass"],function(t){var n=function(t){if(!t)return t;var r=!!t.then;function e(e){t[e]=function(){var i=arguments,s=Deferred.when(t,function(t){return n(Array.prototype[e].apply(t,i))});if("forEach"!==e||r)return s}}return r&&(t=Object.delegate(t)),e("forEach"),e("filter"),e("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},r=t({klassName:"ArrayStore",queryEngine:function(t,n){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var r=t;t=function(t){for(var n in r){var e=r[n];if(e&&e.test){if(!e.test(t[n],t))return!1}else if(e!=t[n])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function e(r){var e=function(t,n,r){var e,i=0,s=t&&t.length||0,a=[];s&&"string"==typeof t&&(t=t.split(""));"string"==typeof n&&(n=cache[n]||buildFn(n));if(r)for(;i<s;++i)e=t[i],n.call(r,e,i,t)&&a.push(e);else for(;i<s;++i)e=t[i],n(e,i,t)&&a.push(e);return a}(r,t),i=n&&n.sort;if(i&&e.sort("function"==typeof i?i:function(t,n){for(var r,e=0;r=i[e];e++){var s=t[r.attribute],a=n[r.attribute];if(s=null!=s?s.valueOf():s,a=null!=a?a.valueOf():a,s!=a)return!!r.descending==(null==s||s>a)?-1:1}return 0}),n&&(n.start||n.count)){var s=e.length;(e=e.slice(n.start||0,(n.start||0)+(n.count||1/0))).total=s}return e}return e.matches=t,e},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,n){var r=this.data,e=this.index,i=this.idProperty,s=t[i]=n&&"id"in n?n.id:i in t?t[i]:Math.random();if(s in e){if(n&&!1===n.overwrite)throw new Error("Object already exists");r[e[s]]=t}else e[s]=r.push(t)-1;return s},add:function(t,n){return(n=n||{}).overwrite=!1,this.put(t,n)},remove:function(t){var n=this.index,r=this.data;if(t in n)return r.splice(n[t],1),this.setData(r),!0},query:function(t,r){return n(this.queryEngine(t,r)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var n=0,r=t.length;n<r;n++)this.index[t[n][this.idProperty]]=n},init:function(t){for(var n in t)this[n]=t[n];this.setData(this.data||[])}});return r}),t("skylark-langx-aspect/aspect",["skylark-langx-ns"],function(t){var n,r=0;function e(t){return function(e,i,s,a){var o,u=e[i];u&&u.target==e||(e[i]=o=function(){for(var t=r,e=arguments,i=o.before;i;)e=i.advice.apply(this,e)||e,i=i.next;if(o.around)var s=o.around.advice(this,e);for(var a=o.after;a&&a.id<t;){if(a.receiveArguments){var u=a.advice.apply(this,e);s=u===n?s:u}else s=a.advice.call(this,s,e);a=a.next}return s},u&&(o.around={advice:function(t,n){return u.apply(t,n)}}),o.target=e);var h=function(t,n,e,i){var s,a=t[n],o="around"==n;if(o){var u=e(function(){return a.advice(this,arguments)});s={remove:function(){u&&(u=t=e=null)},advice:function(t,n){return u?u.apply(t,n):a.advice(t,n)}}}else s={remove:function(){if(s.advice){var r=s.previous,i=s.next;i||r?(r?r.next=i:t[n]=i,i&&(i.previous=r)):delete t[n],t=e=s.advice=null}},id:r++,advice:e,receiveArguments:i};if(a&&!o)if("after"==n){for(;a.next&&(a=a.next););a.next=s,s.previous=a}else"before"==n&&(t[n]=s,s.next=a,a.previous=s);else t[n]=s;return s}(o||u,t,s,a);return s=null,h}}return t.attach("langx.aspect",{after:e("after"),around:e("around"),before:e("before")})}),t("skylark-langx-aspect/main",["./aspect"],function(t){return t}),t("skylark-langx-aspect",["skylark-langx-aspect/main"],function(t){return t}),t("skylark-langx/aspect",["skylark-langx-aspect"],function(t){return t}),t("skylark-langx-async/async",["skylark-langx-ns"],function(t){return t.attach("langx.async")}),t(["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects","./async"],function(n,r,e,i){"use strict";var s=Array.prototype.slice,a=r.proxy,o=n.makeArray,u=e.result,h=e.mixin;h(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(n){return t(["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects"],function(t,n,r){var e=Array.prototype.slice,i=n.proxy,s=t.makeArray,a=r.result,o=r.mixin;o(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(t){return this.catch(t),this}});var u=function(){var t=this;this.promise=h(new Promise(function(n,r){t._resolve=n,t._reject=r}))};function h(t){if(t.isResolved)return t;var n=!0,r=!1,e=!1,i=t.then(function(t){return e=!0,n=!1,t},function(t){throw r=!0,n=!1,t});i.isResolved=function(){return e},i.isPending=function(){return n},i.isRejected=function(){return r},i.state=function(){return e?"resolved":r?"rejected":"pending"};var s=[],a=[];return i.then=function(t,n,r){return r&&this.progress(r),h(Promise.prototype.then.call(this,t&&function(n){return n&&void 0!==n.__ctx__?t.apply(n.__ctx__,n):t(n)},n&&function(t){return t&&void 0!==t.__ctx__?n.apply(t.__ctx__,t):n(t)}))},i.progress=function(t){return s.forEach(function(n){t(n)}),a.push(t),this},i.pipe=i.then,i.notify=function(t){try{return s.push(t),a.forEach(function(n){return n(t)})}catch(t){this.reject(t)}return this},i.notifyWith=function(t,n){try{return s.push(n),a.forEach(function(r){return r.call(t,n)})}catch(t){this.reject(t)}return this},i}return u.prototype.resolve=function(t){var n=e.call(arguments);return this.resolveWith(null,n)},u.prototype.resolveWith=function(t,n){return(n=n?s(n):[]).__ctx__=t,this._resolve(n),this._resolved=!0,this},u.prototype.notify=function(t){var n=a(this,"promise");return n.notify(t),this},u.prototype.reject=function(t){var n=e.call(arguments);return this.rejectWith(null,n)},u.prototype.rejectWith=function(t,n){return(n=n?s(n):[]).__ctx__=t,this._reject(n),this._rejected=!0,this},u.prototype.isResolved=function(){var t=a(this,"promise");return t.isResolved()},u.prototype.isRejected=function(){var t=a(this,"promise");return t.isRejected()},u.prototype.state=function(){var t=a(this,"promise");return t.state()},u.prototype.then=function(t,n,r){var e=a(this,"promise");return e.then(t,n,r)},u.prototype.progress=function(t){var n=a(this,"promise");return n.progress(t)},u.prototype.catch=function(t){var n=a(this,"promise");return n.catch(t)},u.prototype.always=function(){var t=a(this,"promise");return t.always.apply(t,arguments),this},u.prototype.done=function(){var t=a(this,"promise");return t.done.apply(t,arguments),this},u.prototype.fail=function(t){var n=a(this,"promise");return n.fail(t),this},u.all=function(t){var n=new u;return Promise.all(t).then(n.resolve.bind(n),n.reject.bind(n)),a(n,"promise")},u.first=function(t){return h(Promise.race(t))},u.when=function(t,n,r,e){var s=t&&"function"==typeof t.then,a=s&&t instanceof Promise;if(!s)return arguments.length>1?n?n(t):t:(new u).resolve(t);if(!a){var o=new u(t.cancel);t.then(i(o.resolve,o),i(o.reject,o),o.notify),t=o.promise}return n||r||e?t.then(n,r,e):t},u.reject=function(t){var n=new u;return n.reject(t),n.promise},u.immediate=u.resolve=function(t){var n=new u;return n.resolve.apply(n,arguments),n.promise},u.promise=function(t){var n=new u;return t(n.resolve.bind(n),n.reject.bind(n),n.progress.bind(n)),n.promise},u}),this.catch(n),this}});var c=function(){var t=this;this.promise=l(new Promise(function(n,r){t._resolve=n,t._reject=r}))};function l(t){if(t.isResolved)return t;var n=!0,r=!1,e=!1,i=t.then(function(t){return e=!0,n=!1,t},function(t){throw r=!0,n=!1,t});i.isResolved=function(){return e},i.isPending=function(){return n},i.isRejected=function(){return r},i.state=function(){return e?"resolved":r?"rejected":"pending"};var s=[],a=[];return i.then=function(t,n,r){return r&&this.progress(r),l(Promise.prototype.then.call(this,t&&function(n){return n&&void 0!==n.__ctx__?t.apply(n.__ctx__,n):t(n)},n&&function(t){return t&&void 0!==t.__ctx__?n.apply(t.__ctx__,t):n(t)}))},i.progress=function(t){return s.forEach(function(n){t(n)}),a.push(t),this},i.pipe=i.then,i.notify=function(t){try{return s.push(t),a.forEach(function(n){return n(t)})}catch(t){this.reject(t)}return this},i}return c.prototype.resolve=function(t){var n=s.call(arguments);return this.resolveWith(null,n)},c.prototype.resolveWith=function(t,n){return(n=n?o(n):[]).__ctx__=t,this._resolve(n),this._resolved=!0,this},c.prototype.notify=function(t){var n=u(this,"promise");return n.notify(t),this},c.prototype.reject=function(t){var n=s.call(arguments);return this.rejectWith(null,n)},c.prototype.rejectWith=function(t,n){return(n=n?o(n):[]).__ctx__=t,this._reject(n),this._rejected=!0,this},c.prototype.isResolved=function(){var t=u(this,"promise");return t.isResolved()},c.prototype.isRejected=function(){var t=u(this,"promise");return t.isRejected()},c.prototype.state=function(){var t=u(this,"promise");return t.state()},c.prototype.then=function(t,n,r){var e=u(this,"promise");return e.then(t,n,r)},c.prototype.progress=function(t){var n=u(this,"promise");return n.progress(t)},c.prototype.catch=function(t){var n=u(this,"promise");return n.catch(t)},c.prototype.always=function(){var t=u(this,"promise");return t.always.apply(t,arguments),this},c.prototype.done=function(){var t=u(this,"promise");return t.done.apply(t,arguments),this},c.prototype.fail=function(t){var n=u(this,"promise");return n.fail(t),this},c.all=function(t){var n=new c;return Promise.all(t).then(n.resolve.bind(n),n.reject.bind(n)),u(n,"promise")},c.first=function(t){return l(Promise.race(t))},c.when=function(t,n,r,e){var i=t&&"function"==typeof t.then,s=i&&t instanceof Promise;if(!i)return arguments.length>1?n?n(t):t:(new c).resolve(t);if(!s){var o=new c(t.cancel);t.then(a(o.resolve,o),a(o.reject,o),o.notify),t=o.promise}return n||r||e?t.then(n,r,e):t},c.reject=function(t){var n=new c;return n.reject(t),n.promise},c.immediate=c.resolve=function(t){var n=new c;return n.resolve.apply(n,arguments),n.promise},c.promise=function(t){var n=new c;return t(n.resolve.bind(n),n.reject.bind(n),n.progress.bind(n)),n.promise},i.Deferred=c}),t("skylark-langx-async/each",["./async"],function(t){return t.each=function(t,n,r){if(0===t.length)return r(void 0,t);var e=new Array(t.length),i=0,s=!1;t.forEach(function(a,o){n(a,function(n,a){if(!s)return n?(s=!0,r(n)):(e[o]=a,(i+=1)===t.length?r(void 0,e):void 0)})})}}),t("skylark-langx-async/parallel",["skylark-langx-objects","./async","./deferred"],function(t,n,r){return n.parallel=function(n,e,i){var s=[];return i=i||null,e=e||[],t.each(n,function(t,n){s.push(n.apply(i,e))}),r.all(s)}}),t("skylark-langx-async/series",["skylark-langx-objects","./async","./deferred"],function(t,n,r){return n.series=function(n,e,i){var s=[],a=new r,o=a.promise;return i=i||null,e=e||[],a.resolve(),t.each(n,function(t,n){o=o.then(function(){return n.apply(i,e)}),s.push(o)}),r.all(s)}}),t("skylark-langx-async/waterful",["skylark-langx-objects","./async","./deferred"],function(t,n,r){return n.waterful=function(n,e,i){var s=new r,a=s.promise;return i=i||null,e=e||[],s.resolveWith(i,e),t.each(n,function(t,n){a=a.then(n)}),a}}),t("skylark-langx-async/main",["./async","./deferred","./each","./parallel","./series","./waterful"],function(t){return t}),t("skylark-langx-async",["skylark-langx-async/main"],function(t){return t}),t("skylark-langx/async",["skylark-langx-async"],function(t){return t}),t("skylark-langx-binary/binary",["skylark-langx-ns"],function(t){"use strict";return t.attach("langx.binary",{fromBase64:function(t){for(var n,r,e,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=t.length/4*3,o=new ArrayBuffer(a),u=new Uint8Array(o),h=0,c=0;h<a;h+=3)n=s.indexOf(t.charAt(c++)),r=s.indexOf(t.charAt(c++)),e=s.indexOf(t.charAt(c++)),i=s.indexOf(t.charAt(c++)),u[h]=n<<2|r>>4,64!==e&&(u[h+1]=(15&r)<<4|e>>2),64!==i&&(u[h+2]=(3&e)<<6|i);return o},fromBinaryString:function(t){for(var n=t.length,r=new ArrayBuffer(n),e=new Uint8Array(r),i=0;i<n;i++)e[i]=t.charCodeAt(i);return r},fromBuffer:function(t){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),e=0;e<t.length;e++)r[e]=t[e];return n},readInt8:function(t,n){return t[n]<<24>>24},readUint16:function(t,n){return t[n]<<8|t[n+1]},readUint32:function(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}})}),t("skylark-langx-binary/base64",[],function(){"use strict";for(var exports={byteLength:function(t){var n=a(t),r=n[0],e=n[1];return 3*(r+e)/4-e},toByteArray:function(t){var e,i,s=a(t),o=s[0],u=s[1],h=new r(function(t,n,r){return 3*(n+r)/4-r}(0,o,u)),c=0,l=u>0?o-4:o;for(i=0;i<l;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],h[c++]=e>>16&255,h[c++]=e>>8&255,h[c++]=255&e;2===u&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,h[c++]=255&e);1===u&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,h[c++]=e>>8&255,h[c++]=255&e);return h},fromByteArray:function(n){for(var r,e=n.length,i=e%3,s=[],a=0,u=e-i;a<u;a+=16383)s.push(o(n,a,a+16383>u?u:a+16383));1===i?(r=n[e-1],s.push(t[r>>2]+t[r<<4&63]+"==")):2===i&&(r=(n[e-2]<<8)+n[e-1],s.push(t[r>>10]+t[r>>4&63]+t[r<<2&63]+"="));return s.join("")}},t=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=e.length;i<s;++i)t[i]=e[i],n[e.charCodeAt(i)]=i;function a(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=n);var e=r===n?0:4-r%4;return[r,e]}function o(n,r,e){for(var i,s,a=[],o=r;o<e;o+=3)i=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(255&n[o+2]),a.push(t[(s=i)>>18&63]+t[s>>12&63]+t[s>>6&63]+t[63&s]);return a.join("")}return n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,exports}),t("skylark-langx-binary/ieee754",[],function(){"use strict";var exports={read:function(t,n,r,e,i){var s,a,o=8*i-e-1,u=(1<<o)-1,h=u>>1,c=-7,l=r?i-1:0,f=r?-1:1,y=t[n+l];for(l+=f,s=y&(1<<-c)-1,y>>=-c,c+=o;c>0;s=256*s+t[n+l],l+=f,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=e;c>0;a=256*a+t[n+l],l+=f,c-=8);if(0===s)s=1-h;else{if(s===u)return a?NaN:1/0*(y?-1:1);a+=Math.pow(2,e),s-=h}return(y?-1:1)*a*Math.pow(2,s-e)},write:function(t,n,r,e,i,s){var a,o,u,h=8*s-i-1,c=(1<<h)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,y=e?0:s-1,p=e?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,a=c):(a=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-a))<1&&(a--,u*=2),(n+=a+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=c?(o=0,a=c):a+l>=1?(o=(n*u-1)*Math.pow(2,i),a+=l):(o=n*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+y]=255&o,y+=p,o/=256,i-=8);for(a=a<<i|o,h+=i;h>0;t[r+y]=255&a,y+=p,a/=256,h-=8);t[r+y-p]|=128*g}};return exports}),t("skylark-langx-binary/buffer",["./binary","./base64","./ieee754"],function(t,n,r){"use strict";s.INSPECT_MAX_BYTES=50;var e=2147483647;function i(t){if(t>e)throw new RangeError("Invalid typed array length");var n=new Uint8Array(t);return n.__proto__=s.prototype,n}function s(t,n,r){if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}return a(t,n,r)}function a(t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return L(t)||t&&L(t.buffer)?function(t,n,r){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var e;e=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);return e.__proto__=s.prototype,e}(t,n,r):"string"==typeof t?function(t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|l(t,n),e=i(r),a=e.write(t,n);a!==r&&(e=e.slice(0,a));return e}(t,n):function(t){if(s.isBuffer(t)){var n=0|c(t.length),r=i(n);return 0===r.length?r:(t.copy(r,0,0,n),r)}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||U(t.length)?i(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t){return o(t),i(t<0?0:0|c(t))}function h(t){for(var n=t.length<0?0:0|c(t.length),r=i(n),e=0;e<n;e+=1)r[e]=255&t[e];return r}function c(t){if(t>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|t}function l(t,n){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||L(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(t).length;default:if(e)return F(t).length;n=(""+n).toLowerCase(),e=!0}}function f(t,n,r){var e=t[n];t[n]=t[r],t[r]=e}function y(t,n,r,e,i){if(0===t.length)return-1;if("string"==typeof r?(e=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=s.from(n,e)),s.isBuffer(n))return 0===n.length?-1:p(t,n,r,e,i);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):p(t,[n],r,e,i);throw new TypeError("val must be string, number or Buffer")}function p(t,n,r,e,i){var s,a=1,o=t.length,u=n.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(t.length<2||n.length<2)return-1;a=2,o/=2,u/=2,r/=2}function h(t,n){return 1===a?t[n]:t.readUInt16BE(n*a)}if(i){var c=-1;for(s=r;s<o;s++)if(h(t,s)===h(n,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){for(var l=!0,f=0;f<u;f++)if(h(t,s+f)!==h(n,f)){l=!1;break}if(l)return s}return-1}function g(t,n,r,e){r=Number(r)||0;var i=t.length-r;e?(e=Number(e))>i&&(e=i):e=i;var s=n.length;e>s/2&&(e=s/2);for(var a=0;a<e;++a){var o=parseInt(n.substr(2*a,2),16);if(U(o))return a;t[r+a]=o}return a}function m(t,n,r,e){return B(F(n,t.length-r),t,r,e)}function d(t,n,r,e){return B(function(t){for(var n=[],r=0;r<t.length;++r)n.push(255&t.charCodeAt(r));return n}(n),t,r,e)}function x(t,n,r,e){return d(t,n,r,e)}function k(t,n,r,e){return B(I(n),t,r,e)}function v(t,n,r,e){return B(function(t,n){for(var r,e,i,s=[],a=0;a<t.length&&!((n-=2)<0);++a)r=t.charCodeAt(a),e=r>>8,i=r%256,s.push(i),s.push(e);return s}(n,t.length-r),t,r,e)}function w(t,r,e){return 0===r&&e===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(r,e))}function _(t,n,r){r=Math.min(t.length,r);for(var e=[],i=n;i<r;){var s,a,o,u,h=t[i],c=null,l=h>239?4:h>223?3:h>191?2:1;if(i+l<=r)switch(l){case 1:h<128&&(c=h);break;case 2:128==(192&(s=t[i+1]))&&(u=(31&h)<<6|63&s)>127&&(c=u);break;case 3:s=t[i+1],a=t[i+2],128==(192&s)&&128==(192&a)&&(u=(15&h)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[i+1],a=t[i+2],o=t[i+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(u=(15&h)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=l}return function(t){var n=t.length;if(n<=b)return String.fromCharCode.apply(String,t);var r="",e=0;for(;e<n;)r+=String.fromCharCode.apply(String,t.slice(e,e+=b));return r}(e)}s.kMaxLength=e,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{get:function(){if(this instanceof s)return this.buffer}}),Object.defineProperty(s.prototype,"offset",{get:function(){if(this instanceof s)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,n,r){return a(t,n,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,n,r){return function(t,n,r){if(o(t),t<=0)return i(t);if(void 0!==n)return"string"==typeof r?i(t).fill(n,r):i(t).fill(n);return i(t)}(t,n,r)},s.allocUnsafe=function(t){return u(t)},s.allocUnsafeSlow=function(t){return u(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer},s.compare=function(t,n){if(!s.isBuffer(t)||!s.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,e=n.length,i=0,a=Math.min(r,e);i<a;++i)if(t[i]!==n[i]){r=t[i],e=n[i];break}return r<e?-1:e<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var e=s.allocUnsafe(n),i=0;for(r=0;r<t.length;++r){var a=t[r];if(ArrayBuffer.isView(a)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(e,i),i+=a.length}return e},s.byteLength=l,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)f(this,n,n+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)f(this,n,n+3),f(this,n+1,n+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)f(this,n,n+7),f(this,n+1,n+6),f(this,n+2,n+5),f(this,n+3,n+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):function(t,n,r){var e=!1;(void 0===n||n<0)&&(n=0);if(n>this.length)return"";(void 0===r||r>this.length)&&(r=this.length);if(r<=0)return"";if((r>>>=0)<=(n>>>=0))return"";t||(t="utf8");for(;;)switch(t){case"hex":return A(this,n,r);case"utf8":case"utf-8":return _(this,n,r);case"ascii":return M(this,n,r);case"latin1":case"binary":return z(this,n,r);case"base64":return w(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,n,r);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=s.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,n,r,e,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),n<0||r>t.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&n>=r)return 0;if(e>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,e>>>=0,i>>>=0,this===t)return 0;for(var a=i-e,o=r-n,u=Math.min(a,o),h=this.slice(e,i),c=t.slice(n,r),l=0;l<u;++l)if(h[l]!==c[l]){a=h[l],o=c[l];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,n,r){return-1!==this.indexOf(t,n,r)},s.prototype.indexOf=function(t,n,r){return y(this,t,n,r,!0)},s.prototype.lastIndexOf=function(t,n,r){return y(this,t,n,r,!1)},s.prototype.write=function(t,n,r,e){if(void 0===n)e="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)e=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(r)?(r>>>=0,void 0===e&&(e="utf8")):(e=r,r=void 0)}var i=this.length-n;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var s=!1;;)switch(e){case"hex":return g(this,t,n,r);case"utf8":case"utf-8":return m(this,t,n,r);case"ascii":return d(this,t,n,r);case"latin1":case"binary":return x(this,t,n,r);case"base64":return k(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,n,r);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function M(t,n,r){var e="";r=Math.min(t.length,r);for(var i=n;i<r;++i)e+=String.fromCharCode(127&t[i]);return e}function z(t,n,r){var e="";r=Math.min(t.length,r);for(var i=n;i<r;++i)e+=String.fromCharCode(t[i]);return e}function A(t,n,r){var e=t.length;(!n||n<0)&&(n=0),(!r||r<0||r>e)&&(r=e);for(var i="",s=n;s<r;++s)i+=R(t[s]);return i}function j(t,n,r){for(var e=t.slice(n,r),i="",s=0;s<e.length;s+=2)i+=String.fromCharCode(e[s]+256*e[s+1]);return i}function E(t,n,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>r)throw new RangeError("Trying to access beyond buffer length")}function S(t,n,r,e,i,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+e>t.length)throw new RangeError("Index out of range")}function C(t,n,r,e,i,s){if(r+e>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(t,n,e,i,s){return n=+n,e>>>=0,s||C(t,n,e,4,3.4028234663852886e38,-3.4028234663852886e38),r.write(t,n,e,i,23,4),e+4}function O(t,n,e,i,s){return n=+n,e>>>=0,s||C(t,n,e,8,1.7976931348623157e308,-1.7976931348623157e308),r.write(t,n,e,i,52,8),e+8}s.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t);var e=this.subarray(t,n);return e.__proto__=s.prototype,e},s.prototype.readUIntLE=function(t,n,r){t>>>=0,n>>>=0,r||E(t,n,this.length);for(var e=this[t],i=1,s=0;++s<n&&(i*=256);)e+=this[t+s]*i;return e},s.prototype.readUIntBE=function(t,n,r){t>>>=0,n>>>=0,r||E(t,n,this.length);for(var e=this[t+--n],i=1;n>0&&(i*=256);)e+=this[t+--n]*i;return e},s.prototype.readUInt8=function(t,n){return t>>>=0,n||E(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,n){return t>>>=0,n||E(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,n){return t>>>=0,n||E(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,n){return t>>>=0,n||E(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,n){return t>>>=0,n||E(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,n,r){t>>>=0,n>>>=0,r||E(t,n,this.length);for(var e=this[t],i=1,s=0;++s<n&&(i*=256);)e+=this[t+s]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*n)),e},s.prototype.readIntBE=function(t,n,r){t>>>=0,n>>>=0,r||E(t,n,this.length);for(var e=n,i=1,s=this[t+--e];e>0&&(i*=256);)s+=this[t+--e]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*n)),s},s.prototype.readInt8=function(t,n){return t>>>=0,n||E(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,n){t>>>=0,n||E(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,n){t>>>=0,n||E(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,n){return t>>>=0,n||E(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,n){return t>>>=0,n||E(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,n){return t>>>=0,n||E(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,n){return t>>>=0,n||E(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,n){return t>>>=0,n||E(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,n){return t>>>=0,n||E(t,8,this.length),r.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,n,r,e){if(t=+t,n>>>=0,r>>>=0,!e){var i=Math.pow(2,8*r)-1;S(this,t,n,r,i,0)}var s=1,a=0;for(this[n]=255&t;++a<r&&(s*=256);)this[n+a]=t/s&255;return n+r},s.prototype.writeUIntBE=function(t,n,r,e){if(t=+t,n>>>=0,r>>>=0,!e){var i=Math.pow(2,8*r)-1;S(this,t,n,r,i,0)}var s=r-1,a=1;for(this[n+s]=255&t;--s>=0&&(a*=256);)this[n+s]=t/a&255;return n+r},s.prototype.writeUInt8=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,1,255,0),this[n]=255&t,n+1},s.prototype.writeUInt16LE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeUInt16BE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeUInt32LE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},s.prototype.writeUInt32BE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeIntLE=function(t,n,r,e){if(t=+t,n>>>=0,!e){var i=Math.pow(2,8*r-1);S(this,t,n,r,i-1,-i)}var s=0,a=1,o=0;for(this[n]=255&t;++s<r&&(a*=256);)t<0&&0===o&&0!==this[n+s-1]&&(o=1),this[n+s]=(t/a>>0)-o&255;return n+r},s.prototype.writeIntBE=function(t,n,r,e){if(t=+t,n>>>=0,!e){var i=Math.pow(2,8*r-1);S(this,t,n,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[n+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[n+s+1]&&(o=1),this[n+s]=(t/a>>0)-o&255;return n+r},s.prototype.writeInt8=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},s.prototype.writeInt16LE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeInt16BE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeInt32LE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},s.prototype.writeInt32BE=function(t,n,r){return t=+t,n>>>=0,r||S(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeFloatLE=function(t,n,r){return T(this,t,n,!0,r)},s.prototype.writeFloatBE=function(t,n,r){return T(this,t,n,!1,r)},s.prototype.writeDoubleLE=function(t,n,r){return O(this,t,n,!0,r)},s.prototype.writeDoubleBE=function(t,n,r){return O(this,t,n,!1,r)},s.prototype.copy=function(t,n,r,e){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),e||0===e||(e=this.length),n>=t.length&&(n=t.length),n||(n=0),e>0&&e<r&&(e=r),e===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-n<e-r&&(e=t.length-n+r);var i=e-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,e);else if(this===t&&r<n&&n<e)for(var a=i-1;a>=0;--a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,e),n);return i},s.prototype.fill=function(t,n,r,e){if("string"==typeof t){if("string"==typeof n?(e=n,n=0,r=this.length):"string"==typeof r&&(e=r,r=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===t.length){var i=t.charCodeAt(0);("utf8"===e&&i<128||"latin1"===e)&&(t=i)}}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var o=s.isBuffer(t)?t:new s(t,e),u=o.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=o[a%u]}return this};var P=/[^+/0-9A-Za-z-_]/g;function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,n){var r;n=n||1/0;for(var e=t.length,i=null,s=[],a=0;a<e;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(a+1===e){(n-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(n-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(n-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((n-=1)<0)break;s.push(r)}else if(r<2048){if((n-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function I(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,n,r,e){for(var i=0;i<e&&!(i+r>=n.length||i>=t.length);++i)n[i+r]=t[i];return i}function L(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function U(t){return t!=t}return t.Buffer=s}),t("skylark-langx-binary/main",["./binary","./buffer"],function(t){return t}),t("skylark-langx-binary",["skylark-langx-binary/main"],function(t){return t}),t("skylark-langx/binary",["skylark-langx-binary"],function(t){return t}),t("skylark-langx-chars/chars",["skylark-langx-ns","skylark-langx-types"],function(t,n){return t.attach("langx.chars",{isWhiteSpace:function(t){return 32===t||9===t||13===t||10===t}})}),t("skylark-langx-chars/main",["./chars"],function(t){return t}),t("skylark-langx-chars",["skylark-langx-chars/main"],function(t){return t}),t("skylark-langx/chars",["skylark-langx-chars"],function(t){return t}),t("skylark-langx/constructs",["skylark-langx-constructs"],function(t){return t}),t("skylark-langx-datetimes/datetimes",["skylark-langx-ns"],function(t){return t.attach("langx.datetimes",{parseMilliSeconds:function(t){var n=t.split(" "),r=parseInt(n[0]);if(isNaN(r))return 0;switch(n[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*r;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*r;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*r;case"days":case"day":case"DD":case"dd":case"d":return 864e5*r;case"months":case"month":case"MM":case"M":return 24192e5*r;case"weeks":case"week":case"W":case"w":return 6048e5*r;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*r;default:return 0}}})}),t("skylark-langx-datetimes/to_date",["skylark-langx-types","./datetimes"],function(t,n){let r;return n.toDate=function(n){if(!n||!t.isString(n))return null;r||(r=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=r.exec(n);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const c=e[7]||"Z";let l=parseInt(e[8],10);l=l>=0&&l<=23?l:0;let f=parseInt(e[9],10)||0;f=f>=0&&f<=59?f:0,"-"===c?(o+=l,u+=f):"+"===c&&(o-=l,u-=f);return new Date(Date.UTC(i,s,a,o,u,h))}}),t("skylark-langx-datetimes/main",["./datetimes","./to_date"],function(t){return t}),t("skylark-langx-datetimes",["skylark-langx-datetimes/main"],function(t){return t}),t("skylark-langx/datetimes",["skylark-langx-datetimes"],function(t){return t}),t("skylark-langx/deferred",["skylark-langx-async"],function(t){return t.Deferred}),t("skylark-langx-events/events",["skylark-langx-ns"],function(t){return t.attach("langx.events",{})}),t("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(t){var n={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(n.isNode=!0,n.isBrowser=!1),n.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var r=null;if(Object.defineProperty(n,"document",function(){if(!r){var t="undefined"==typeof window?require("html-element"):window;r=t.document}return r}),void 0===n.global.CustomEvent&&(n.global.CustomEvent=function(t,n){this.type=t,this.props=n}),n.isBrowser){var e=function(t){t=t.toLowerCase();var n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}}(navigator.userAgent),i=n.browser={};e.browser&&(i[e.browser]=!0,i.version=e.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0)}return n.detects={},t.attach("langx.hoster",n)}),t("skylark-langx-hoster/detects/mobile",["../hoster"],function(t){var n=/iPhone/i,r=/iPod/i,e=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,o=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,h=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,l=/BlackBerry/i,f=/BB10/i,y=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,m=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};return t.detects.mobile=function(t){var d={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?d.userAgent=t:t&&t.userAgent&&(d={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):d={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var x=d.userAgent,k=x.split("[FBAN");void 0!==k[1]&&(x=k[0]);void 0!==(k=x.split("Twitter"))[1]&&(x=k[0]);var v=function(t){return function(n){return n.test(t)}}(x),w={apple:{phone:v(n)&&!v(h),ipod:v(r),tablet:!v(n)&&(v(e)||m(d))&&!v(h),universal:v(i),device:(v(n)||v(r)||v(e)||v(i)||m(d))&&!v(h)},amazon:{phone:v(o),tablet:!v(o)&&v(u),device:v(o)||v(u)},android:{phone:!v(h)&&v(o)||!v(h)&&v(s),tablet:!v(h)&&!v(o)&&!v(s)&&(v(u)||v(a)),device:!v(h)&&(v(o)||v(u)||v(s)||v(a))||v(/\bokhttp\b/i)},windows:{phone:v(h),tablet:v(c),device:v(h)||v(c)},other:{blackberry:v(l),blackberry10:v(f),opera:v(y),firefox:v(g),chrome:v(p),device:v(l)||v(f)||v(y)||v(g)||v(p)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}}),t("skylark-langx-hoster/is-mobile",["./hoster","./detects/mobile"],function(t,n){return void 0==t.isMobile&&(t.isMobile=n()),t.isMobile}),t("skylark-langx-hoster/main",["./hoster","./is-mobile"],function(t){return t}),t("skylark-langx-hoster",["skylark-langx-hoster/main"],function(t){return t}),t("skylark-langx-events/event",["skylark-langx-objects","skylark-langx-funcs","skylark-langx-klass","skylark-langx-hoster","./events"],function(t,n,r,e){var i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function s(r,e){return!e&&r.isDefaultPrevented||(e||(e=r),t.each(i,function(t,i){var s=e[t];r[t]=function(){return this[i]=n.returnTrue,s&&s.apply(e,arguments)},r[i]=n.returnFalse})),r}class a extends CustomEvent{constructor(n,r){super(n,r),t.safeMixin(this,r),s(this)}}return a.compatible=s,e.Event=a}),t("skylark-langx-events/listener",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event"],function(t,n,r,e,i,s){Array.prototype.slice;var a=r.compact,o=(t.isDefined,t.isUndefined),u=(t.isPlainObject,t.isFunction,t.isBoolean),h=t.isString,c=t.isEmptyObject,l=(n.mixin,n.safeMixin,e({listenTo:function(n,r,e,i,s){if(!n)return this;if(t.isPlainObject(r)){t.isBoolean(e)?(s=e,e=null):t.isBoolean(i)&&(s=i);var a=r;for(var c in a){var l=c.match(/^([\w:-]*)\s*(.*)$/),f=l[1],y=l[2]||e;y?this.listenTo(n,f,y,a[c],s):this.listenTo(n,f,a[c],s)}return this}u(i)?(s=i,i=e,e=null):u(e)?(s=e,i=e=null):o(i)&&(s=!1,i=e,e=null),i||(i="handleEvent"),h(i)&&(i=this[i]);var p=this.ensureListenedEmitter(n);s?e?p.one(r,e,i,this):p.one(r,i,this):e?p.on(r,e,i,this):p.on(r,i,this);for(var g,m=this._listeningTo||(this._listeningTo=[]),d=0;d<m.length;d++)if(m[d].obj==n){g=m[d];break}g||m.push(g={obj:n,events:{}});var x=g.events,k=x[r]=x[r]||[];return-1==k.indexOf(i)&&k.push(i),this},listenToOnce:function(t,n,r,e){return this.listenTo(t,n,r,e,1)},unlistenTo:function(t,n,r){var e=this._listeningTo;if(!e)return this;h(r)&&(r=this[r]);for(var i=0;i<e.length;i++){var s=e[i];if(!t||t==s.obj){var o=s.events;for(var u in o)if(!n||n==u){var l=o[u];if(l){for(var f=0;f<l.length;f++)if(!r||r==l[i]){let t=this.ensureListenedEmitter(s.obj);t.off(u,l[i],this),l[i]=null}l=o[u]=a(l),c(l)&&(o[u]=null)}}c(o)&&(e[i]=null)}}return e=this._listeningTo=a(e),c(e)&&(this._listeningTo=null),this},ensureListenedEmitter:function(t){return t}}));return i.Listener=l}),t("skylark-langx-events/emitter",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event","./listener"],function(t,n,r,e,i,s,a){var o=Array.prototype.slice,u=r.compact,h=t.isDefined,c=t.isPlainObject,l=t.isFunction,f=t.isString,y=(t.isEmptyObject,n.mixin);n.safeMixin;function p(t){var n=(""+t).split(".");return{name:n[0],ns:n.slice(1).join(" ")}}var g=new Map,m=a.inherit({_prepareArgs:function(t,n){return n=h(n)?[t].concat(n):[t]},on:function(t,n,r,e,i,s){var a=this,o=this._hub||(this._hub={});if(c(t))return i=e,each(t,function(t,e){a.on(t,n,r,e,i,s)}),this;if(f(n)||l(e)||(i=e,e=r,r=n,n=void 0),l(r)&&(i=e,e=r,r=null),!e)throw new Error("No callback function");if(!l(e))throw new Error("The callback  is not afunction");return f(t)&&(t=t.split(/\s/)),t.forEach(function(t){var a=p(t),u=a.name,h=a.ns;(o[u]||(o[u]=[])).push({fn:e,selector:n,data:r,ctx:i,ns:h,one:s})}),this},one:function(t,n,r,e,i){return this.on(t,n,r,e,i,1)},emit:function(t){if(!this._hub)return this;var n=this;f(t)&&(t=new s(t)),Object.defineProperty(t,"target",{value:this});var r=o.call(arguments,1);return r=this._prepareArgs(t,r),[t.type||t.name,"all"].forEach(function(e){var i=p(e),s=i.name,a=i.ns,o=n._hub[s];if(o){for(var h=o.length,l=!1,f=0;f<h;f++){if(t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped())return this;var g=o[f];(!a||g.ns&&g.ns.startsWith(a))&&(g.data&&(t.data=y({},g.data,t.data)),2==r.length&&c(r[1])&&(t.data=t.data||{},y(t.data,r[1])),g.fn.apply(g.ctx,r),g.one&&(o[f]=null,l=!0))}l&&(n._hub[e]=u(o))}}),this},queueEmit:function(t){const n=t.type||t;let r=g.get(this);r||(r=new Map,g.set(this,r));const e=r.get(n);r.delete(n),window.clearTimeout(e);const i=window.setTimeout(()=>{0===r.size&&(r=null,g.delete(this)),this.trigger(t)},0);r.set(n,i)},listened:function(t){var n=(this._hub||(this._events={}))[t]||[];return n.length>0},off:function(t,n){if(t){var r=this._hub||(this._hub={});return f(t)&&(t=t.split(/\s/)),t.forEach(function(t){var e=p(t),i=e.name,s=e.ns,a=r[i];if(a){var o=[];if(n||s)for(var u=0,h=a.length;u<h;u++)n&&a[u].fn!==n&&a[u].fn._!==n?o.push(a[u]):!s||a[u].ns&&0==a[u].ns.indexOf(s)||o.push(a[u]);o.length?r[i]=o:delete r[i]}}),this}this._hub=null},trigger:function(){return this.emit.apply(this,arguments)},queueTrigger:function(t){return this.queueEmit.apply(this,arguments)}});return i.Emitter=m}),t("skylark-langx-events/create-event",["./events","./event"],function(t,n){return t.createEvent=function(t,r){return new n(t,r)}}),t("skylark-langx-events/main",["./events","./event","./listener","./emitter","./create-event"],function(t){return t}),t("skylark-langx-events",["skylark-langx-events/main"],function(t){return t}),t("skylark-langx/emitter",["skylark-langx-events"],function(t){return t.Emitter}),t("skylark-langx/evented",["./emitter"],function(t){return t}),t("skylark-langx/events",["skylark-langx-events"],function(t){return t}),t("skylark-langx/funcs",["skylark-langx-funcs"],function(t){return t}),t("skylark-langx-globals/globals",["skylark-langx-ns"],function(t){var n=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();return t.attach("langx.globals",n)}),t("skylark-langx-globals/console",["./globals"],function(t){return t.console=console}),t("skylark-langx-globals/document",["./globals"],function(t){var n;"undefined"!=typeof global?global:"undefined"!=typeof window&&window;if("undefined"!=typeof document)n=document;else try{n=require("min-document")}catch(t){console.warn("min-document is not finded!",t)}return t.document=n}),t("skylark-langx-globals/window",["./globals"],function(t){var n="undefined"!=typeof window?window:{};return t.window=n}),t("skylark-langx-globals/main",["./globals","./console","./document","./window"],function(t){return t}),t("skylark-langx-globals",["skylark-langx-globals/main"],function(t){return t}),t("skylark-langx/globals",["skylark-langx-globals"],function(t){return t}),t("skylark-langx/hoster",["skylark-langx-hoster"],function(t){return t}),t("skylark-langx-maths/maths",["skylark-langx-ns","skylark-langx-types"],function(t,n){for(var r=[],e=0;e<256;e++)r[e]=(e<16?"0":"")+e.toString(16);var i={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,clamp:function(t,n,r){return Math.max(n,Math.min(r,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,r,e,i){return e+(t-n)*(i-e)/(r-n)},lerp:function(t,n,r){return(1-r)*t+r*n},smoothstep:function(t,n,r){return t<=n?0:t>=r?1:(t=(t-n)/(r-n))*t*(3-2*t)},smootherstep:function(t,n,r){return t<=n?0:t>=r?1:(t=(t-n)/(r-n))*t*t*(t*(6*t-15)+10)},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*i.DEG2RAD},radToDeg:function(t){return t*i.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,n,r,e,i){var s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((n+e)/2),c=a((n+e)/2),l=s((n-e)/2),f=a((n-e)/2),y=s((e-n)/2),p=a((e-n)/2);"XYX"===i?t.set(o*c,u*l,u*f,o*h):"YZY"===i?t.set(u*f,o*c,u*l,o*h):"ZXZ"===i?t.set(u*l,u*f,o*c,o*h):"XZX"===i?t.set(o*c,u*p,u*y,o*h):"YXY"===i?t.set(u*y,o*c,u*p,o*h):"ZYZ"===i?t.set(u*p,u*y,o*c,o*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};return t.attach("langx.maths",i)}),t("skylark-langx-maths/main",["./maths"],function(t){return t}),t("skylark-langx-maths",["skylark-langx-maths/main"],function(t){return t}),t("skylark-langx/maths",["skylark-langx-maths"],function(t){return t}),t("skylark-langx-numerics/numerics",["skylark-langx-ns","skylark-langx-types"],function(t,n){return t.attach("langx.numerics",{toFinite:n.toFinite,toNumber:n.toNumber,toInteger:n.toInteger})}),t("skylark-langx-numerics/maths",["skylark-langx-ns","skylark-langx-types","./numerics"],function(t,n,r){for(var e=[],i=0;i<256;i++)e[i]=(i<16?"0":"")+i.toString(16);var s={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,clamp:function(t,n,r){return Math.max(n,Math.min(r,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,r,e,i){return e+(t-n)*(i-e)/(r-n)},lerp:function(t,n,r){return(1-r)*t+r*n},smoothstep:function(t,n,r){return t<=n?0:t>=r?1:(t=(t-n)/(r-n))*t*(3-2*t)},smootherstep:function(t,n,r){return t<=n?0:t>=r?1:(t=(t-n)/(r-n))*t*t*(t*(6*t-15)+10)},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*s.DEG2RAD},radToDeg:function(t){return t*s.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,n,r,e,i){var s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((n+e)/2),c=a((n+e)/2),l=s((n-e)/2),f=a((n-e)/2),y=s((e-n)/2),p=a((e-n)/2);"XYX"===i?t.set(o*c,u*l,u*f,o*h):"YZY"===i?t.set(u*f,o*c,u*l,o*h):"ZXZ"===i?t.set(u*l,u*f,o*c,o*h):"XZX"===i?t.set(o*c,u*p,u*y,o*h):"YXY"===i?t.set(u*y,o*c,u*p,o*h):"ZYZ"===i?t.set(u*p,u*y,o*c,o*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};return r.maths=s}),t("skylark-langx-numerics/quaternion",["skylark-langx-klass","./numerics","./maths"],function(t,n,r){var e=t({klassName:"Quaternion",x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},set:function(t,n,r,e){return this._x=t,this._y=n,this._z=r,this._w=e,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,n){if(!t||!t.isEuler)throw new Error("mathsQuaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,e=t._y,i=t._z,s=t.order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(e/2),c=a(i/2),l=o(r/2),f=o(e/2),y=o(i/2);return"XYZ"===s?(this._x=l*h*c+u*f*y,this._y=u*f*c-l*h*y,this._z=u*h*y+l*f*c,this._w=u*h*c-l*f*y):"YXZ"===s?(this._x=l*h*c+u*f*y,this._y=u*f*c-l*h*y,this._z=u*h*y-l*f*c,this._w=u*h*c+l*f*y):"ZXY"===s?(this._x=l*h*c-u*f*y,this._y=u*f*c+l*h*y,this._z=u*h*y+l*f*c,this._w=u*h*c-l*f*y):"ZYX"===s?(this._x=l*h*c-u*f*y,this._y=u*f*c+l*h*y,this._z=u*h*y-l*f*c,this._w=u*h*c+l*f*y):"YZX"===s?(this._x=l*h*c+u*f*y,this._y=u*f*c+l*h*y,this._z=u*h*y-l*f*c,this._w=u*h*c-l*f*y):"XZY"===s&&(this._x=l*h*c-u*f*y,this._y=u*f*c-l*h*y,this._z=u*h*y+l*f*c,this._w=u*h*c+l*f*y),!1!==n&&this._onChangeCallback(),this},setFromAxisAngle:function(t,n){var r=n/2,e=Math.sin(r);return this._x=t.x*e,this._y=t.y*e,this._z=t.z*e,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var n,r=t.elements,e=r[0],i=r[4],s=r[8],a=r[1],o=r[5],u=r[9],h=r[2],c=r[6],l=r[10],f=e+o+l;return f>0?(n=.5/Math.sqrt(f+1),this._w=.25/n,this._x=(c-u)*n,this._y=(s-h)*n,this._z=(a-i)*n):e>o&&e>l?(n=2*Math.sqrt(1+e-o-l),this._w=(c-u)/n,this._x=.25*n,this._y=(i+a)/n,this._z=(s+h)/n):o>l?(n=2*Math.sqrt(1+o-e-l),this._w=(s-h)/n,this._x=(i+a)/n,this._y=.25*n,this._z=(u+c)/n):(n=2*Math.sqrt(1+l-e-o),this._w=(a-i)/n,this._x=(s+h)/n,this._y=(u+c)/n,this._z=.25*n),this._onChangeCallback(),this},setFromUnitVectors:function(t,n){var r=t.dot(n)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(r.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,n){var r=this.angleTo(t);if(0===r)return this;var e=Math.min(1,n/r);return this.slerp(t,e),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,n){return void 0!==n?(console.warn("mathsQuaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,n){var r=t._x,e=t._y,i=t._z,s=t._w,a=n._x,o=n._y,u=n._z,h=n._w;return this._x=r*h+s*a+e*u-i*o,this._y=e*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-e*a,this._w=s*h-r*a-e*o-i*u,this._onChangeCallback(),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var r=this._x,e=this._y,i=this._z,s=this._w,a=s*t._w+r*t._x+e*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=e,this._z=i,this;var o=1-a*a;if(o<=Number.EPSILON){var u=1-n;return this._w=u*s+n*this._w,this._x=u*r+n*this._x,this._y=u*e+n*this._y,this._z=u*i+n*this._z,this.normalize(),this._onChangeCallback(),this}var h=Math.sqrt(o),c=Math.atan2(h,a),l=Math.sin((1-n)*c)/h,f=Math.sin(n*c)/h;return this._w=s*l+this._w*f,this._x=r*l+this._x*f,this._y=e*l+this._y*f,this._z=i*l+this._z*f,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,n){return void 0===n&&(n=0),this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t},fromBufferAttribute:function(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){},_construct:function(t,n,r,e){this._x=t||0,this._y=n||0,this._z=r||0,this._w=void 0!==e?e:1}});return Object.assign(e,{slerp:function(t,n,r,e){return r.copy(t).slerp(n,e)},slerpFlat:function(t,n,r,e,i,s,a){var o=r[e+0],u=r[e+1],h=r[e+2],c=r[e+3],l=i[s+0],f=i[s+1],y=i[s+2],p=i[s+3];if(c!==p||o!==l||u!==f||h!==y){var g=1-a,m=o*l+u*f+h*y+c*p,d=m>=0?1:-1,x=1-m*m;if(x>Number.EPSILON){var k=Math.sqrt(x),v=Math.atan2(k,m*d);g=Math.sin(g*v)/k,a=Math.sin(a*v)/k}var w=a*d;if(o=o*g+l*w,u=u*g+f*w,h=h*g+y*w,c=c*g+p*w,g===1-a){var _=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=_,u*=_,h*=_,c*=_}}t[n]=o,t[n+1]=u,t[n+2]=h,t[n+3]=c}}),Object.assign(e.prototype,{}),n.Quaternion=e}),t("skylark-langx-numerics/vector3",["skylark-langx-klass","./numerics","./maths","./quaternion"],function(t,n,r,e){var i=new e,s=t({klassName:"Vector3",set:function(t,n,r){return this.x=t,this.y=n,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,n){return void 0!==n?(console.warn("mathsVector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this},addScaledVector:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this},sub:function(t,n){return void 0!==n?(console.warn("mathsVector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this},multiply:function(t,n){return void 0!==n?(console.warn("mathsVector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("mathsVector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(i.setFromEuler(t))},applyAxisAngle:function(t,n){return this.applyQuaternion(i.setFromAxisAngle(t,n))},applyMatrix3:function(t){var n=this.x,r=this.y,e=this.z,i=t.elements;return this.x=i[0]*n+i[3]*r+i[6]*e,this.y=i[1]*n+i[4]*r+i[7]*e,this.z=i[2]*n+i[5]*r+i[8]*e,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var n=this.x,r=this.y,e=this.z,i=t.elements,s=1/(i[3]*n+i[7]*r+i[11]*e+i[15]);return this.x=(i[0]*n+i[4]*r+i[8]*e+i[12])*s,this.y=(i[1]*n+i[5]*r+i[9]*e+i[13])*s,this.z=(i[2]*n+i[6]*r+i[10]*e+i[14])*s,this},applyQuaternion:function(t){var n=this.x,r=this.y,e=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*n+s*e-a*r,h=o*r+a*n-i*e,c=o*e+i*r-s*n,l=-i*n-s*r-a*e;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var n=this.x,r=this.y,e=this.z,i=t.elements;return this.x=i[0]*n+i[4]*r+i[8]*e,this.y=i[1]*n+i[5]*r+i[9]*e,this.z=i[2]*n+i[6]*r+i[10]*e,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this},clampScalar:function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this},clampLength:function(t,n){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this},lerpVectors:function(t,n,r){return this.subVectors(n,t).multiplyScalar(r).add(t)},cross:function(t,n){return void 0!==n?(console.warn("mathsVector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)},crossVectors:function(t,n){var r=t.x,e=t.y,i=t.z,s=n.x,a=n.y,o=n.z;return this.x=e*o-i*a,this.y=i*s-r*o,this.z=r*a-e*s,this},projectOnVector:function(t){var n=t.lengthSq();if(0===n)return this.set(0,0,0);var r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)},projectOnPlane:function(t){return a.copy(this).projectOnVector(t),this.sub(a)},reflect:function(t){return this.sub(a.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var n=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===n)return Math.PI/2;var r=this.dot(t)/n;return Math.acos(MathUtils.clamp(r,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var n=this.x-t.x,r=this.y-t.y,e=this.z-t.z;return n*n+r*r+e*e},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,n,r){var e=Math.sin(n)*t;return this.x=e*Math.sin(r),this.y=Math.cos(n)*t,this.z=e*Math.cos(r),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this},setFromMatrixPosition:function(t){var n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this},setFromMatrixScale:function(t){var n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),e=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=e,this},setFromMatrixColumn:function(t,n){return this.fromArray(t.elements,4*n)},setFromMatrix3Column:function(t,n){return this.fromArray(t.elements,3*n)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,n){return void 0===n&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t},fromBufferAttribute:function(t,n,r){return void 0!==r&&console.warn("mathsVector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this},_construct:function(t,n,r){this.x=t||0,this.y=n||0,this.z=r||0}}),a=new s;return n.Vector3=s}),t("skylark-langx-numerics/matrix4",["skylark-langx-klass","./numerics","./vector3"],function(t,n,r){var e=new r,i=new r(0,0,0),s=new r(1,1,1),a=new r,o=new r,u=new r,h=t({set:function(t,n,r,e,i,s,a,o,u,h,c,l,f,y,p,g){var m=this.elements;return m[0]=t,m[4]=n,m[8]=r,m[12]=e,m[1]=i,m[5]=s,m[9]=a,m[13]=o,m[2]=u,m[6]=h,m[10]=c,m[14]=l,m[3]=f,m[7]=y,m[11]=p,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(t){var n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},copyPosition:function(t){var n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this},extractBasis:function(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this},extractRotation:function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),s=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("mathsMatrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=this.elements,r=t.x,e=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(e),u=Math.sin(e),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var l=s*h,f=s*c,y=a*h,p=a*c;n[0]=o*h,n[4]=-o*c,n[8]=u,n[1]=f+y*u,n[5]=l-p*u,n[9]=-a*o,n[2]=p-l*u,n[6]=y+f*u,n[10]=s*o}else if("YXZ"===t.order){var g=o*h,m=o*c,d=u*h,x=u*c;n[0]=g+x*a,n[4]=d*a-m,n[8]=s*u,n[1]=s*c,n[5]=s*h,n[9]=-a,n[2]=m*a-d,n[6]=x+g*a,n[10]=s*o}else if("ZXY"===t.order){var g=o*h,m=o*c,d=u*h,x=u*c;n[0]=g-x*a,n[4]=-s*c,n[8]=d+m*a,n[1]=m+d*a,n[5]=s*h,n[9]=x-g*a,n[2]=-s*u,n[6]=a,n[10]=s*o}else if("ZYX"===t.order){var l=s*h,f=s*c,y=a*h,p=a*c;n[0]=o*h,n[4]=y*u-f,n[8]=l*u+p,n[1]=o*c,n[5]=p*u+l,n[9]=f*u-y,n[2]=-u,n[6]=a*o,n[10]=s*o}else if("YZX"===t.order){var k=s*o,v=s*u,w=a*o,_=a*u;n[0]=o*h,n[4]=_-k*c,n[8]=w*c+v,n[1]=c,n[5]=s*h,n[9]=-a*h,n[2]=-u*h,n[6]=v*c+w,n[10]=k-_*c}else if("XZY"===t.order){var k=s*o,v=s*u,w=a*o,_=a*u;n[0]=o*h,n[4]=-c,n[8]=u*h,n[1]=k*c+_,n[5]=s*h,n[9]=v*c-w,n[2]=w*c-v,n[6]=a*h,n[10]=_*c+k}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(i,t,s)},lookAt:function(t,n,r){var e=this.elements;return u.subVectors(t,n),0===u.lengthSq()&&(u.z=1),u.normalize(),a.crossVectors(r,u),0===a.lengthSq()&&(1===Math.abs(r.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),a.crossVectors(r,u)),a.normalize(),o.crossVectors(u,a),e[0]=a.x,e[4]=o.x,e[8]=u.x,e[1]=a.y,e[5]=o.y,e[9]=u.y,e[2]=a.z,e[6]=o.z,e[10]=u.z,this},multiply:function(t,n){return void 0!==n?(console.warn("mathsMatrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,n){var r=t.elements,e=n.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],f=r[13],y=r[2],p=r[6],g=r[10],m=r[14],d=r[3],x=r[7],k=r[11],v=r[15],w=e[0],_=e[4],b=e[8],M=e[12],z=e[1],A=e[5],j=e[9],E=e[13],S=e[2],C=e[6],T=e[10],O=e[14],P=e[3],R=e[7],F=e[11],I=e[15];return i[0]=s*w+a*z+o*S+u*P,i[4]=s*_+a*A+o*C+u*R,i[8]=s*b+a*j+o*T+u*F,i[12]=s*M+a*E+o*O+u*I,i[1]=h*w+c*z+l*S+f*P,i[5]=h*_+c*A+l*C+f*R,i[9]=h*b+c*j+l*T+f*F,i[13]=h*M+c*E+l*O+f*I,i[2]=y*w+p*z+g*S+m*P,i[6]=y*_+p*A+g*C+m*R,i[10]=y*b+p*j+g*T+m*F,i[14]=y*M+p*E+g*O+m*I,i[3]=d*w+x*z+k*S+v*P,i[7]=d*_+x*A+k*C+v*R,i[11]=d*b+x*j+k*T+v*F,i[15]=d*M+x*E+k*O+v*I,this},multiplyScalar:function(t){var n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this},determinant:function(){var t=this.elements,n=t[0],r=t[4],e=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],f=t[14],y=t[3],p=t[7],g=t[11],m=t[15];return y*(+i*o*c-e*u*c-i*a*l+r*u*l+e*a*f-r*o*f)+p*(+n*o*f-n*u*l+i*s*l-e*s*f+e*u*h-i*o*h)+g*(+n*u*c-n*a*f-i*s*c+r*s*f+i*a*h-r*u*h)+m*(-e*a*h-n*o*c+n*a*l+e*s*c-r*s*l+r*o*h)},transpose:function(){var t,n=this.elements;return t=n[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},setPosition:function(t,n,r){var e=this.elements;return t.isVector3?(e[12]=t.x,e[13]=t.y,e[14]=t.z):(e[12]=t,e[13]=n,e[14]=r),this},getInverse:function(t,n){void 0!==n&&console.warn("mathsMatrix4: .getInverse() can no longer be configured to throw on degenerate.");var r=this.elements,e=t.elements,i=e[0],s=e[1],a=e[2],o=e[3],u=e[4],h=e[5],c=e[6],l=e[7],f=e[8],y=e[9],p=e[10],g=e[11],m=e[12],d=e[13],x=e[14],k=e[15],v=y*x*l-d*p*l+d*c*g-h*x*g-y*c*k+h*p*k,w=m*p*l-f*x*l-m*c*g+u*x*g+f*c*k-u*p*k,_=f*d*l-m*y*l+m*h*g-u*d*g-f*h*k+u*y*k,b=m*y*c-f*d*c-m*h*p+u*d*p+f*h*x-u*y*x,M=i*v+s*w+a*_+o*b;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var z=1/M;return r[0]=v*z,r[1]=(d*p*o-y*x*o-d*a*g+s*x*g+y*a*k-s*p*k)*z,r[2]=(h*x*o-d*c*o+d*a*l-s*x*l-h*a*k+s*c*k)*z,r[3]=(y*c*o-h*p*o-y*a*l+s*p*l+h*a*g-s*c*g)*z,r[4]=w*z,r[5]=(f*x*o-m*p*o+m*a*g-i*x*g-f*a*k+i*p*k)*z,r[6]=(m*c*o-u*x*o-m*a*l+i*x*l+u*a*k-i*c*k)*z,r[7]=(u*p*o-f*c*o+f*a*l-i*p*l-u*a*g+i*c*g)*z,r[8]=_*z,r[9]=(m*y*o-f*d*o-m*s*g+i*d*g+f*s*k-i*y*k)*z,r[10]=(u*d*o-m*h*o+m*s*l-i*d*l-u*s*k+i*h*k)*z,r[11]=(f*h*o-u*y*o-f*s*l+i*y*l+u*s*g-i*h*g)*z,r[12]=b*z,r[13]=(f*d*a-m*y*a+m*s*p-i*d*p-f*s*x+i*y*x)*z,r[14]=(m*h*a-u*d*a-m*s*c+i*d*c+u*s*x-i*h*x)*z,r[15]=(u*y*a-f*h*a+f*s*c-i*y*c-u*s*p+i*h*p)*z,this},scale:function(t){var n=this.elements,r=t.x,e=t.y,i=t.z;return n[0]*=r,n[4]*=e,n[8]*=i,n[1]*=r,n[5]*=e,n[9]*=i,n[2]*=r,n[6]*=e,n[10]*=i,n[3]*=r,n[7]*=e,n[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],e=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,e))},makeTranslation:function(t,n,r){return this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this},makeRotationY:function(t){var n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this},makeRotationZ:function(t){var n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,n){var r=Math.cos(n),e=Math.sin(n),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-e*o,u*o+e*a,0,u*a+e*o,h*a+r,h*o-e*s,0,u*o-e*a,h*o+e*s,i*o*o+r,0,0,0,0,1),this},makeScale:function(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(t,n,r){return this.set(1,n,r,0,t,1,r,0,t,n,1,0,0,0,0,1),this},compose:function(t,n,r){var e=this.elements,i=n._x,s=n._y,a=n._z,o=n._w,u=i+i,h=s+s,c=a+a,l=i*u,f=i*h,y=i*c,p=s*h,g=s*c,m=a*c,d=o*u,x=o*h,k=o*c,v=r.x,w=r.y,_=r.z;return e[0]=(1-(p+m))*v,e[1]=(f+k)*v,e[2]=(y-x)*v,e[3]=0,e[4]=(f-k)*w,e[5]=(1-(l+m))*w,e[6]=(g+d)*w,e[7]=0,e[8]=(y+x)*_,e[9]=(g-d)*_,e[10]=(1-(l+p))*_,e[11]=0,e[12]=t.x,e[13]=t.y,e[14]=t.z,e[15]=1,this},decompose:function(t,n,r){var i=this.elements,s=e.set(i[0],i[1],i[2]).length(),a=e.set(i[4],i[5],i[6]).length(),o=e.set(i[8],i[9],i[10]).length(),u=this.determinant();u<0&&(s=-s),t.x=i[12],t.y=i[13],t.z=i[14],c.copy(this);var h=1/s,l=1/a,f=1/o;return c.elements[0]*=h,c.elements[1]*=h,c.elements[2]*=h,c.elements[4]*=l,c.elements[5]*=l,c.elements[6]*=l,c.elements[8]*=f,c.elements[9]*=f,c.elements[10]*=f,n.setFromRotationMatrix(c),r.x=s,r.y=a,r.z=o,this},makePerspective:function(t,n,r,e,i,s){void 0===s&&console.warn("mathsMatrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,o=2*i/(n-t),u=2*i/(r-e),h=(n+t)/(n-t),c=(r+e)/(r-e),l=-(s+i)/(s-i),f=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,n,r,e,i,s){var a=this.elements,o=1/(n-t),u=1/(r-e),h=1/(s-i),c=(n+t)*o,l=(r+e)*u,f=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var n=this.elements,r=t.elements,e=0;e<16;e++)if(n[e]!==r[e])return!1;return!0},fromArray:function(t,n){void 0===n&&(n=0);for(var r=0;r<16;r++)this.elements[r]=t[r+n];return this},toArray:function(t,n){void 0===t&&(t=[]),void 0===n&&(n=0);var r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t},_construct:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("mathsMatrix4: the constructor no longer reads arguments. use .set() instead.")}}),c=new h;return n.Matrix4=h}),t("skylark-langx-numerics/euler",["skylark-langx-klass","./numerics","./maths","./quaternion","./vector3","./matrix4"],function(t,n,r,e,i,s){var a=new s,o=new e,u=t({x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},isEuler:!0,set:function(t,n,r,e){return this._x=t,this._y=n,this._z=r,this._order=e||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,n,e){var i=r.clamp,s=t.elements,a=s[0],o=s[4],u=s[8],h=s[1],c=s[5],l=s[9],f=s[2],y=s[6],p=s[10];return"XYZ"===(n=n||this._order)?(this._y=Math.asin(i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,c),this._z=0)):"YXZ"===n?(this._x=Math.asin(-i(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(u,p),this._z=Math.atan2(h,c)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===n?(this._x=Math.asin(i(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===n?(this._y=Math.asin(-i(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(y,p),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===n?(this._z=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(u,p))):"XZY"===n?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,c),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("skylark-nunustudio/editor/gui/element/RendererCanvasEuler: .setFromRotationMatrix() given unsupported order: "+n),this._order=n,!1!==e&&this._onChangeCallback(),this},setFromQuaternion:function(t,n,r){return a.makeRotationFromQuaternion(t),this.setFromRotationMatrix(a,n,r)},setFromVector3:function(t,n){return this.set(t.x,t.y,t.z,n||this._order)},reorder:function(t){return o.setFromEuler(this),this.setFromQuaternion(o,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new i(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){},_construct:function(t,n,r,e){this._x=t||0,this._y=n||0,this._z=r||0,this._order=e||u.DefaultOrder}});return u.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],u.DefaultOrder="XYZ",n.Euler=u}),t("skylark-langx-numerics/matrix3",["skylark-langx-klass","./numerics"],function(t,n){var r=t({klassName:"Matrix3",isMatrix3:!0,set:function(t,n,r,e,i,s,a,o,u){var h=this.elements;return h[0]=t,h[1]=e,h[2]=a,h[3]=n,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this},extractBasis:function(t,n,r){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){var n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,n){var r=t.elements,e=n.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],f=r[5],y=r[8],p=e[0],g=e[3],m=e[6],d=e[1],x=e[4],k=e[7],v=e[2],w=e[5],_=e[8];return i[0]=s*p+a*d+o*v,i[3]=s*g+a*x+o*w,i[6]=s*m+a*k+o*_,i[1]=u*p+h*d+c*v,i[4]=u*g+h*x+c*w,i[7]=u*m+h*k+c*_,i[2]=l*p+f*d+y*v,i[5]=l*g+f*x+y*w,i[8]=l*m+f*k+y*_,this},multiplyScalar:function(t){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this},determinant:function(){var t=this.elements,n=t[0],r=t[1],e=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return n*s*h-n*a*u-r*i*h+r*a*o+e*i*u-e*s*o},getInverse:function(t,n){void 0!==n&&console.warn("mathsMatrix3: .getInverse() can no longer be configured to throw on degenerate.");var r=t.elements,e=this.elements,i=r[0],s=r[1],a=r[2],o=r[3],u=r[4],h=r[5],c=r[6],l=r[7],f=r[8],y=f*u-h*l,p=h*c-f*o,g=l*o-u*c,m=i*y+s*p+a*g;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);var d=1/m;return e[0]=y*d,e[1]=(a*l-f*s)*d,e[2]=(h*s-a*u)*d,e[3]=p*d,e[4]=(f*i-a*c)*d,e[5]=(a*o-h*i)*d,e[6]=g*d,e[7]=(s*c-l*i)*d,e[8]=(u*i-s*o)*d,this},transpose:function(){var t,n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this},setUvTransform:function(t,n,r,e,i,s,a){var o=Math.cos(i),u=Math.sin(i);this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-e*u,e*o,-e*(-u*s+o*a)+a+n,0,0,1)},scale:function(t,n){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=n,r[4]*=n,r[7]*=n,this},rotate:function(t){var n=Math.cos(t),r=Math.sin(t),e=this.elements,i=e[0],s=e[3],a=e[6],o=e[1],u=e[4],h=e[7];return e[0]=n*i+r*o,e[3]=n*s+r*u,e[6]=n*a+r*h,e[1]=-r*i+n*o,e[4]=-r*s+n*u,e[7]=-r*a+n*h,this},translate:function(t,n){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this},equals:function(t){for(var n=this.elements,r=t.elements,e=0;e<9;e++)if(n[e]!==r[e])return!1;return!0},fromArray:function(t,n){void 0===n&&(n=0);for(var r=0;r<9;r++)this.elements[r]=t[r+n];return this},toArray:function(t,n){void 0===t&&(t=[]),void 0===n&&(n=0);var r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t},_construct:function(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("Matrix3: the constructor no longer reads arguments. use .set() instead.")}});return n.Matrix3=r}),t("skylark-langx-numerics/transform",["skylark-langx-klass","./numerics"],function(t,n){var r=t({klassName:"Transform",value:{get:function(){return this._.value}}});return n.Transform=r}),t("skylark-langx-numerics/matrix-transform",["./numerics","./transform"],function(t,n){var r=n.inherit({klassName:"MatrixTransform",value:{get:function(){return this.matrix.clone()}},matrix:{get:function(){return this._.matrix}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t){var n=this._={};n.matrix=t}});return t.MatrixTransform=r}),t("skylark-langx-numerics/plane",["skylark-langx-klass","./numerics","./matrix3","./vector3"],function(t,n,r,e){var i=new e,s=new e,a=new r,o=t({klassName:"Plane",set:function(t,n){return this.normal.copy(t),this.constant=n,this},setComponents:function(t,n,r,e){return this.normal.set(t,n,r),this.constant=e,this},setFromNormalAndCoplanarPoint:function(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this},setFromCoplanarPoints:function(t,n,r){var e=i.subVectors(r,n).cross(s.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(e,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,n){return void 0===n&&(console.warn("mathsPlane: .projectPoint() target is now required"),n=new e),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,n){void 0===n&&(console.warn("mathsPlane: .intersectLine() target is now required"),n=new e);var r=t.delta(i),s=this.normal.dot(r);if(0===s)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/s;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(t.start)},intersectsLine:function(t){var n=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return n<0&&r>0||r<0&&n>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("mathsPlane: .coplanarPoint() target is now required"),t=new e),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,n){var r=n||a.getNormalMatrix(t),e=this.coplanarPoint(i).applyMatrix4(t),s=this.normal.applyMatrix3(r).normalize();return this.constant=-e.dot(s),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant},_construct:function(t,n){this.normal=void 0!==t?t:new e(1,0,0),this.constant=void 0!==n?n:0}});return n.Plane=o}),t("skylark-langx-numerics/rotate-transform",["./numerics","./transform","./matrix-transform"],function(t,n,r){var e=t.RotateTransform=n.inherit({klassName:"RotateTransform",value:{get:function(){return r.rotateAt(this.angle,this.centerX,this.centerY)}},angle:{get:function(){return this._.angle}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(t){},transformBounds:function(t){},init:function(t,n,r){var e=this._={};e.angle=t||0,e.centerX=n||0,e.centerY=r||0}});return e}),t("skylark-langx-numerics/scale-transform",["./numerics","./transform","./matrix-transform"],function(t,n,r){var e=n.inherit({klassName:"ScaleTransform",value:{get:function(){return r.scaleAt(this.scaleX,this.scaleY,this.centerX,this.centerY)}},scaleX:{get:function(){return this._.scaleX}},scaleY:{get:function(){return this._.scaleY}},centerX:{get:function(){return this._.centerX}},centerY:{get:function(){return this._.centerY}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t,n,r,e){var i=this._={};i.scaleX=t||1,i.scaleY=n||1,i.centerX=r||0,i.centerY=e||0}});return t.ScaleTransform=e}),t("skylark-langx-numerics/skew-transform",["./numerics","./transform","./matrix-transform"],function(t,n,r){var e=n.inherit({klassName:"SkewTransform",value:{get:function(){return r.scaleAt(this.skewX,this.skewY)}},skewX:{get:function(){return this._.skewX}},skewY:{get:function(){return this._.skewY}},clone:function(){},transform:function(t){},transformBounds:function(t){},_construct:function(t,n){var r=this._={};r.skewX=t||0,r.skewY=n||0}});return t.SkewTransform=e}),t("skylark-langx-numerics/vector2",["skylark-langx-klass","./numerics"],function(t,n){var r=t({klassName:"Vector2",set:function(t,n){return this.x=t,this.y=n,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,n){return void 0!==n?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this},addScaledVector:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this},sub:function(t,n){return void 0!==n?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var n=this.x,r=this.y,e=t.elements;return this.x=e[0]*n+e[3]*r+e[6],this.y=e[1]*n+e[4]*r+e[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this},clampScalar:function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this},clampLength:function(t,n){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this},lerpVectors:function(t,n,r){return this.subVectors(n,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,n){return void 0===n&&(n=0),this.x=t[n],this.y=t[n+1],this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t},rotateAround:function(t,n){var r=Math.cos(n),e=Math.sin(n),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*e+t.x,this.y=i*e+s*r+t.y,this},_construct:function(t,n){this.x=t||0,this.y=n||0}});return n.Vector2=r}),t("skylark-langx-numerics/transform-matrix",["skylark-langx-klass","./numerics","./vector2"],function(t,n,r){var e=Math.PI/180,i={},s=function(t){return i[t]||(i[t]=Math.PI*t/180)},a=t({klassName:"TransformMatrix",_multiplyPoint:function(t){var n=this._,e=t.x*n.m11+t.y*n.m21+n.dx,i=t.x*n.m12+t.y*n.m22+n.dy;return new r(e,i)},m11:{get:function(){return this._.m11}},m12:{get:function(){return this._.m12}},m21:{get:function(){return this._.m21}},m22:{get:function(){return this._.m22}},dx:{get:function(){return this._.dx}},dy:{get:function(){return this._.dy}},alpha:{get:function(){return this._.alpha}},shadow:{get:function(){return this._.shadow}},compositeOperation:{get:function(){return this._.compositeOperation}},multiplyPoint:function(t){return this._multiplyPoint(t)},multiplyRectangle:function(t){if(this.isIdentity())return t.clone();var n=this.multiplyPoint(t.leftTop),r=this.multiplyPoint(t.leftBottom),e=this.multiplyPoint(t.right),i=this.multiplyPoint(t.rightBottom),s=Math.min(n.x,r.x,e.x,i.x),a=Math.min(n.y,r.y,e.y,i.y),o=Math.max(n.x,r.x,e.x,i.x),u=Math.max(n.y,r.y,e.y,i.y);return new Rect(s,a,o-s,u-a)},prepend:function(t,n,r,e,i,s){var a=this.dx;if(1!=t||0!=n||0!=r||1!=e){var o=this.m11,u=this.m21;this.m11=o*t+this.m12*r,this.m12=o*n+this.m12*e,this.m21=u*t+this.m22*r,this.m22=u*n+this.m22*e}return this.dx=a*t+this.dy*r+i,this.dy=a*n+this.dy*e+s,this},append:function(t,n,r,e,i,s){var a=this.m11,o=this.m12,u=this.m21,h=this.m22;return this.m11=t*a+n*u,this.m12=t*o+n*h,this.m21=r*a+e*u,this.m22=r*o+e*h,this.dx=i*a+s*u+this.dx,this.dy=i*o+s*h+this.dy,this},prependMatrix:function(t){return this.prepend(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},appendMatrix:function(t){return this.append(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},prependTransform:function(t,n,r,i,s,a,o,u,h){if(s%360)var c=s*e,l=Math.cos(c),f=Math.sin(c);else l=1,f=0;return(u||h)&&(this.dx-=u,this.dy-=h),a||o?(a*=e,o*=e,this.prepend(l*r,f*r,-f*i,l*i,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,n)):this.prepend(l*r,f*r,-f*i,l*i,t,n),this},appendTransform:function(t,n,r,i,s,a,o,u,h){if(s%360)var c=s*e,l=Math.cos(c),f=Math.sin(c);else l=1,f=0;return a||o?(a*=e,o*=e,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,n),this.append(l*r,f*r,-f*i,l*i,0,0)):this.append(l*r,f*r,-f*i,l*i,t,n),(u||h)&&(this.dx-=u*this.m11+h*this.m21,this.dy-=u*this.m12+h*this.m22),this},rotate:function(t){var n=Math.cos(t),r=Math.sin(t),e=this.m11,i=this.m21,s=this.dx;return this.m11=e*n-this.m12*r,this.m12=e*r+this.m12*n,this.m21=i*n-this.m22*r,this.m22=i*r+this.m22*n,this.dx=s*n-this.dy*r,this.dy=s*r+this.dy*n,this},skew:function(t,n){return t*=e,n*=e,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this},scale:function(t,n){return this.m11*=t,this.m22*=n,this.dx*=t,this.dy*=n,this},translate:function(t,n){return this.dx+=t,this.dy+=n,this},identity:function(){return this.alpha=this.m11=this.m22=1,this.m12=this.m21=this.dx=this.dy=0,this.shadow=this.compositeOperation=null,this},invert:function(){var t=this.m11,n=this.m12,r=this.m21,e=this.m22,i=this.dx,s=t*e-n*r;return this.m11=e/s,this.m12=-n/s,this.m21=-r/s,this.m22=t/s,this.dx=(r*this.dy-e*i)/s,this.dy=-(t*this.dy-n*i)/s,this},isIdentity:function(){return 0==this.dx&&0==this.dy&&1==this.m11&&0==this.m12&&0==this.m21&&1==this.m22},decompose:function(t){null==t&&(t={}),t.x=this.dx,t.y=this.dy,t.scaleX=Math.sqrt(this.m11*this.m11+this.m12*this.m12),t.scaleY=Math.sqrt(this.m21*this.m21+this.m22*this.m22);var n=Math.atan2(-this.m21,this.m22),r=Math.atan2(this.m12,this.m11);return n==r?(t.rotation=r/e,this.m11<0&&this.m22>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e,t.skewY=r/e),t},reinitialize:function(t,n,r,e,i,s,a,o,u){return this._initialize(t,n,r,e,i,s),this.alpha=a||1,this.shadow=o,this.compositeOperation=u,this},appendProperties:function(t,n,r){return this.alpha*=t,this.shadow=n||this.shadow,this.compositeOperation=r||this.compositeOperation,this},prependProperties:function(t,n,r){return this.alpha*=t,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||r,this},multiply:function(t){var n=this.m11,r=this.m12,e=this.m21,i=this.m22,s=this.dx,a=this.dy,o=t;return this.m11=n*o.m11+e*o.m12,this.m12=r*o.m11+i*o.m12,this.m21=n*o.m21+e*o.m22,this.m22=r*o.m21+i*o.m22,this.dx=n*o.dx+e*o.dy+s,this.dy=r*o.dx+i*o.dy+a,this},clone:function(){var t=this._,n=new a(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy);return n.shadow=this.shadow,n.alpha=this.alpha,n.compositeOperation=this.compositeOperation,n},toString:function(){var t=this._;return"[TransformMatrix (m11="+t.m11+" m12="+t.m12+" m21="+t.m21+" m22="+t.m22+" dx="+t.dx+" dy="+t.dy+")]"},_construct:function(t,n,r,e,i,s){var a=this._={};a.m11=t||1,a.m12=n||0,a.m21=r||0,a.m22=e||1,a.dx=i||0,a.dy=s||0}});return Object.assign(a,{translate:function(t,n){return new a(1,0,0,1,t,n)},scale:function(t,n){return new a(t,0,0,n||t,0,0)},rotate:function(t){var n=Math.cos(t),r=Math.sin(t);return new a(n,r,-r,n,0,0)},rotateg:function(t){return this.rotate(s(t))},skewX:function(t){var n=Math.tan(t);return new a(1,0,n,1)},skewXg:function(t){return this.skewX(s(t))},skewY:function(t){var n=Math.tan(t);return new a(1,n,0,1)},skewYg:function(t){return this.skewY(s(t))},reflect:function(t,n){1==arguments.length&&(n=t.y,t=t.x);var r=t*t,e=n*n,i=r+e,s=2*r/i-1,o=2*t*n/i,u=o,h=2*e/i-1;return new a(s,u,o,h)},project:function(t,n){var r=t*t,e=n*n,i=r+e,s=r/i,o=t*n/i;return yx=o,yy=e/i,new a(s,yx,o,yy)},_sandwich:function(t,n,r){return this.translate(n,r).multiply(t).multiply(this.translate(-n,-r))},scaleAt:function(t,n,r,e){switch(arguments.length){case 4:return this._sandwich(this.scale(t,n),r,e);case 3:return"number"==typeof r?this._sandwich(this.scale(t),n,r):this._sandwich(this.scale(t,n),r.x,r.y)}return this._sandwich(this.scale(t),n.x,n.y)},rotateAt:function(t,n,r){return arguments.length>2?this._sandwich(this.rotate(t),n,r):this._sandwich(this.rotate(t),n.x,n.y)},rotategAt:function(t,n,r){return arguments.length>2?this._sandwich(this.rotateg(t),n,r):this._sandwich(this.rotateg(t),n.x,n.y)},skewXAt:function(t,n,r){return arguments.length>2?this._sandwich(this.skewX(t),n,r):this._sandwich(this.skewX(t),n.x,n.y)},skewXgAt:function(t,n,r){return arguments.length>2?this._sandwich(this.skewXg(t),n,r):this._sandwich(this.skewXg(t),n.x,n.y)},skewYAt:function(t,n,r){return arguments.length>2?this._sandwich(this.skewY(t),n,r):this._sandwich(this.skewY(t),n.x,n.y)},skewYgAt:function(t,n,r){return arguments.length>2?this._sandwich(this.skewYg(t),n,r):this._sandwich(this.skewYg(t),n.x,n.y)}}),n.TransformMatrix=a}),t("skylark-langx-numerics/translate-transform",["./numerics","./transform","./matrix-transform"],function(t,n,r,e,i){var s=n.inherit({klassName:"TranslateTransform",value:{get:function(){return r.scaleAt(this.x,this.y)}},x:{get:function(){return this._.x}},y:{get:function(){return this._.y}},clone:function(){},transform:function(t){},transformBounds:function(t){},init:function(t,n){var r=this._;r.x=t||0,r.y=n||0}});return t.TranslateTransform=s}),t("skylark-langx-numerics/vector4",["skylark-langx-klass","./numerics"],function(t,n){var r=t({klassName:"Vector4",set:function(t,n,r,e){return this.x=t,this.y=n,this.z=r,this.w=e,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,n){return void 0!==n?(console.warn("Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this},addScaledVector:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this},sub:function(t,n){return void 0!==n?(console.warn("Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var n=this.x,r=this.y,e=this.z,i=this.w,s=t.elements;return this.x=s[0]*n+s[4]*r+s[8]*e+s[12]*i,this.y=s[1]*n+s[5]*r+s[9]*e+s[13]*i,this.z=s[2]*n+s[6]*r+s[10]*e+s[14]*i,this.w=s[3]*n+s[7]*r+s[11]*e+s[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this},setAxisAngleFromRotationMatrix:function(t){var n,r,e,i,s=t.elements,a=s[0],o=s[4],u=s[8],h=s[1],c=s[5],l=s[9],f=s[2],y=s[6],p=s[10];if(Math.abs(o-h)<.01&&Math.abs(u-f)<.01&&Math.abs(l-y)<.01){if(Math.abs(o+h)<.1&&Math.abs(u+f)<.1&&Math.abs(l+y)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;var g=(a+1)/2,m=(c+1)/2,d=(p+1)/2,x=(o+h)/4,k=(u+f)/4,v=(l+y)/4;return g>m&&g>d?g<.01?(r=0,e=.707106781,i=.707106781):(r=Math.sqrt(g),e=x/r,i=k/r):m>d?m<.01?(r=.707106781,e=0,i=.707106781):(e=Math.sqrt(m),r=x/e,i=v/e):d<.01?(r=.707106781,e=.707106781,i=0):(i=Math.sqrt(d),r=k/i,e=v/i),this.set(r,e,i,n),this}var w=Math.sqrt((y-l)*(y-l)+(u-f)*(u-f)+(h-o)*(h-o));return Math.abs(w)<.001&&(w=1),this.x=(y-l)/w,this.y=(u-f)/w,this.z=(h-o)/w,this.w=Math.acos((a+c+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this},clampScalar:function(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this},clampLength:function(t,n){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this},lerpVectors:function(t,n,r){return this.subVectors(n,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,n){return void 0===n&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this},toArray:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t},fromBufferAttribute:function(t,n,r){return void 0!==r&&console.warn("Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this},_construct:function(t,n,r,e){this.x=t||0,this.y=n||0,this.z=r||0,this.w=void 0!==e?e:1}});return n.Vector4=r}),t("skylark-langx-numerics/main",["./numerics","./euler","./maths","./matrix3","./matrix4","./matrix-transform","./plane","./quaternion","./rotate-transform","./scale-transform","./skew-transform","./transform","./transform-matrix","./translate-transform","./vector2","./vector3","./vector4"],function(t){return t}),t("skylark-langx-numerics",["skylark-langx-numerics/main"],function(t){return t}),t("skylark-langx/numerics",["skylark-langx-numerics"],function(t){return t}),t("skylark-langx/objects",["skylark-langx-objects"],function(t){return t}),t("skylark-langx-paths/paths",["skylark-langx-ns"],function(t){var n={_makeLong:function(t){return t},_removeDuplicateSeps:function(t){return t=t.replace(this._replaceRegex,this.sep)},sep:"/"};return n._replaceRegex=new RegExp("//+","g"),n.delimiter=":",n.posix=n,n.win32=n,t.attach("langx.paths",n)}),t("skylark-langx-paths/normalize",["./paths"],function(t){return t.normalize=function(n){""===n&&(n=".");for(var r=n.charAt(0)===t.sep,e=(n=t._removeDuplicateSeps(n)).split(t.sep),i=[],s=0;s<e.length;s++){var a=e[s];"."!==a&&(".."===a&&(r||!r&&i.length>0&&".."!==i[0])?i.pop():i.push(a))}if(!r&&i.length<2)switch(i.length){case 1:""===i[0]&&i.unshift(".");break;default:i.push(".")}n=i.join(t.sep),r&&n.charAt(0)!==t.sep&&(n=t.sep+n);return n}}),t("skylark-langx-paths/basename",["./paths","./normalize"],function(t,n){return t.basename=function(r,e){void 0===e&&(e="");if(""===r)return r;var i=(r=n(r)).split(t.sep),s=i[i.length-1];if(""===s&&i.length>1)return i[i.length-2];if(e.length>0){var a=s.substr(s.length-e.length);if(a===e)return s.substr(0,s.length-e.length)}return s}}),t("skylark-langx-paths/dirname",["./paths"],function(t){return t.dirname=function(n){var r=(n=t._removeDuplicateSeps(n)).charAt(0)===t.sep,e=n.split(t.sep);""===e.pop()&&e.length>0&&e.pop();return e.length>1||1===e.length&&!r?e.join(t.sep):r?t.sep:"."}}),t("skylark-langx-paths/extname",["./paths","./normalize"],function(t,n){return t.extname=function(r){var e=(r=n(r)).split(t.sep);""===(r=e.pop())&&e.length>0&&(r=e.pop());if(".."===r)return"";var i=r.lastIndexOf(".");if(-1===i||0===i)return"";return r.substr(i)}}),t("skylark-langx-paths/format",["./paths"],function(t){return t.format=function(n){if(null===n||"object"!=typeof n)throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof n);if("string"!=typeof(n.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof n.root);var r=n.dir?n.dir+t.sep:"",e=n.base||"";return r+e}}),t("skylark-langx-paths/is-absolute",["./paths"],function(t){return t.isAbsolute=function(n){return n.length>0&&n.charAt(0)===t.sep}}),t("skylark-langx-paths/join",["./paths","./normalize"],function(t,n){return t.join=function(){for(var r=[],e=0;e<arguments.length;e++)r[e-0]=arguments[e];for(var i=[],s=0;s<r.length;s++){var a=r[s];if("string"!=typeof a)throw new TypeError("Invalid argument type to segs.join: "+typeof a);""!==a&&i.push(a)}return n(i.join(t.sep))}}),t("skylark-langx-paths/path",["skylark-langx-types","skylark-langx-constructs","./paths"],function(t,n,r){var e=n.klass({_construct:function(){var n=this._={segments:null,hasLeading:!1,hasTrailing:!1};1==arguments.length&&t.isString(arguments[0])?this._parse(arguments[0]):t.isArray(arguments[0])&&(n.segments=arguments[0],n.hasLeading=arguments[1]||!1,n.hasTrailing=arguments[2]||!1,this._canonicalize())},_canonicalize:function(){for(var t,n=this._.segments,r=0;r<n.length;r++)if("."==n[r]||".."==n[r]){t=!0;break}if(t){for(var e=[],r=0;r<n.length;r++)".."==n[r]?0==e.length?this.hasLeading||e.push(n[r]):".."==e[e.length-1]?e.push(".."):e.pop():"."==n[r]&&1!=n.length||e.push(n[r]);if(e.length==n.length)return;this._.segments=e}},_length:function(t){return this._.segments.length},_parse:function(t){t||(t=".");var n=this._,r=t.split("/");"/"==t.charAt(0)&&(n.hasLeading=!0,r.shift()),"/"==t.charAt(t.length-1)&&(n.hasTrailing=!0,r.pop()),n.segments=r,n.path=t,this._canonicalize()},append:function(n){return t.isString(n)?this.appendPathStr(n):this.appendPath(n)},appendPath:function(t){if(t.isAbsolute())return t;var n=this.segments,r=t.segments,i=n.concat(r),s=new e(i,this.hasLeading,t.hasTrailing);return s},appendPathStr:function(t){return t=new e(t||""),this.appendPath(t)},clone:function(){return new e(this.segments,this.hasLeading,this.hasTrailing)},endsWith:function(t){for(var n=this.segments,r=new e(t).segments;r.length>0&&n.length>0;)if(r.pop()!=n.pop())return!1;return!0},equals:function(t){var n=this._.segments,r=t._.segments;if(n.length!=r.length)return!1;for(var e=0;e<n.length;e++)if(r[e]!=n[e])return!1;return!0},firstSegment:function(t){var n=this._.segments;return n[t||0]},getExtension:function(){var t=this._.extension,n=this._.path;return textension||(t=this._.extension=n.substr(n.lastIndexOf(".")+1)),t},getSegments:function(){return this.segments},getParentPath:function(){var t=this._.parentPath;if(!t){var n=this.segments;n.pop(),t=this._.parentPath=new e(n,this.hasLeading)}return t},getRoot:function(){},isAbsolute:function(){return this.hasLeading},lastSegment:function(){var t=this._.segments;return t[t.length-1]},matchingFirstSegments:function(t){for(var n=this.segments,r=t.segments,e=Math.min(n.length,r.length),i=0,s=0;s<e;s++){if(n[s]!=r[s])return i;i++}return i},normalize:function(){},removeFirstSegments:function(t){var n=this._.segments,r=this._.hasLeading;return hasTrailing=this._.hasTrailing,new e(n.slice(t,n.length),r,hasTrailing)},removeLastSegments:function(t){var n=this._.segments,r=this._.hasLeading;return hasTrailing=this._.hasTrailing,t||(t=1),new e(n.slice(0,n.length-t),r,hasTrailing)},removeMatchingFirstSegments:function(t){var n=this.matchingFirstSegments(t);return this.removeFirstSegments(n)},removeMatchingLastSegments:function(t){var n=this.matchingFirstSegments(anotherPath);return this.removeLastSegments(n)},removeRelative:function(){var t=this.segments;return t.length>0&&"."==t[1]?this.removeFirstSegments(1):this},relativeTo:function(t,n){"string"==typeof t&&(t=new e(t));var r=this.segments;if(this.isAbsolute())return this;var i=t.segments,s=this.matchingFirstSegments(t),a=i.length;n&&(a-=1);var o=a-s,u=o+r.length-s;if(0==u)return e.EMPTY;for(var h=[],c=0;c<o;c++)h.push("..");for(var c=s;c<r.length;c++)h.push(r[c]);return new e(h,!1,this.hasTrailing)},segment:function(t){var n=this._.segments;return n.length<t?null:n[t]},startsWith:function(t){var n=this.matchingFirstSegments(t);return t._length()==n},toString:function(){var t=[],n=this._.segments;this.hasLeading&&t.push("/");for(var r=0;r<n.length;r++)r>0&&t.push("/"),t.push(n[r]);return this.hasTrailing&&t.push("/"),t.join("")},hasLeading:{get:function(){return this._.hasLeading}},hasTrailing:{get:function(){return this._.hasTrailing}}});return e.EMPTY=new e(""),r.Path=e}),t("skylark-langx-paths/resolve",["./paths","./normalize"],function(t,n){return t.resolve=function(){for(var r=[],e=0;e<arguments.length;e++)r[e-0]=arguments[e];for(var i=[],s=0;s<r.length;s++){var a=r[s];if("string"!=typeof a)throw new TypeError("Invalid argument type to paths.join: "+typeof a);""!==a&&(a.charAt(0)===t.sep&&(i=[]),i.push(a))}var o=n(i.join(t.sep));if(o.length>1&&o.charAt(o.length-1)===t.sep)return o.substr(0,o.length-1);return o}}),t("skylark-langx-paths/relative",["./paths","./resolve"],function(t,n){return t.relative=function(r,e){var i;r=n(r),e=n(e);var s=r.split(t.sep),a=e.split(t.sep);a.shift(),s.shift();var o=0,u=[];for(i=0;i<s.length;i++){var h=s[i];if(h!==a[i]){o=s.length-i;break}}u=a.slice(i),1===s.length&&""===s[0]&&(o=0);o>s.length&&(o=s.length);var c="";for(i=0;i<o;i++)c+="../";(c+=u.join(t.sep)).length>1&&c.charAt(c.length-1)===t.sep&&(c=c.substr(0,c.length-1));return c}}),t("skylark-langx-paths/main",["./paths","./basename","./dirname","./extname","./format","./is-absolute","./join","./normalize","./path","./relative","./resolve"],function(t){return t}),t("skylark-langx-paths",["skylark-langx-paths/main"],function(t){return t}),t("skylark-langx/paths",["skylark-langx-paths"],function(t){return t}),t("skylark-langx/Evented",["./emitter"],function(t){return t}),t("skylark-langx-strings/strings",["skylark-langx-ns"],function(t){return t.attach("langx.strings")}),t("skylark-langx-strings/base64",["./strings"],function(t){return t.base64={decode:function(t,n){n=null!=n&&n;var r,e,i,s,a,o,u,h="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;c<t.length;)s=this._keyStr.indexOf(t.charAt(c++)),a=this._keyStr.indexOf(t.charAt(c++)),o=this._keyStr.indexOf(t.charAt(c++)),u=this._keyStr.indexOf(t.charAt(c++)),r=s<<2|a>>4,e=(15&a)<<4|o>>2,i=(3&o)<<6|u,h+=String.fromCharCode(r),64!=o&&(h+=String.fromCharCode(e)),64!=u&&(h+=String.fromCharCode(i));n||(h=function(t){var n="",r=0,e=c1=c2=0;for(;r<t.length;)(e=t.charCodeAt(r))<128?(n+=String.fromCharCode(e),r++):e>191&&e<224?(c2=t.charCodeAt(r+1),n+=String.fromCharCode((31&e)<<6|63&c2),r+=2):(c2=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),n+=String.fromCharCode((15&e)<<12|(63&c2)<<6|63&c3),r+=3);return n}(h));return h},encode:function(t,n){var r,e,i,s,a,o,u,h="",c=0;(n=null!=n&&n)||(t=function(t){t=t.replace(/\r\n/g,"\n");for(var n="",r=0;r<t.length;r++){var e=t.charCodeAt(r);e<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}(t));for(;c<t.length;)r=t.charCodeAt(c++),e=t.charCodeAt(c++),i=t.charCodeAt(c++),s=r>>2,a=(3&r)<<4|e>>4,o=(15&e)<<2|i>>6,u=63&i,isNaN(e)?o=u=64:isNaN(i)&&(u=64),h=h+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(u);return h}}}),t("skylark-langx-strings/camel-case",["./strings"],function(t){return t.camelCase=function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})}}),t("skylark-langx-strings/dasherize",["./strings"],function(t){return t.dasherize=function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}}),t("skylark-langx-strings/deserialize-value",["./strings"],function(t){return t.deserializeValue=function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(n){return t}}}),t("skylark-langx-strings/escape-html",["./strings"],function(t){var n=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function r(t){return n[t]}var e=/[&<>"'`=]/g;return t.escapeHTML=function(t){if(null==t)return"";if(!t)return String(t);return t.toString().replace(e,r)}}),t("skylark-langx-strings/generate-uuid",["./strings"],function(t){return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,r="x"===t?n:3&n|8;return r.toString(16)})}}),t("skylark-langx-strings/lower-first",["./strings"],function(t){return t.lowerFirst=function(t){return t.charAt(0).toLowerCase()+t.slice(1)}}),t("skylark-langx-strings/ltrim",["./strings"],function(t){return t.ltrim=function(t){return t.replace(/^\s+/,"")}}),t("skylark-langx-strings/rtrim",["./strings"],function(t){return t.rtrim=function(t){return t.replace(/\s+$/,"")}}),t("skylark-langx-strings/serialize-value",["./strings"],function(t){return t.serializeValue=function(t){return JSON.stringify(t)}}),t("skylark-langx-strings/slugify",["./strings"],function(t){return t.slugify=function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var n="a/_,:;",r=0,e=n.length;r<e;r++)t=t.replace(new RegExp(n.charAt(r),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(r));return t=t.replace(/\s+/g,"-").replace(/-+/g,"-")}}),t("skylark-langx-strings/substitute",["./strings"],function(t){return t.substitute=function(t,n,r,e){function i(t,n){if(t.match(/\./)){var r,e=function(t,n){var i=t.pop();return i?n[i]?e(t,r=n[i]):null:r};return e(t.split(".").reverse(),n)}return n[t]}return e=e||window,r=r?proxy(e,r):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,s,a){var o=i(s,n);return a&&(o=i(a,e).call(e,o,s)),r(o,s).toString()})}}),t("skylark-langx-strings/template",["./strings"],function(t){var n=/(.)^/,r={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},e=/\\|'|\r|\n|\u2028|\u2029/g,i=function(t){return"\\"+r[t]};function s(t,r,a){!r&&a&&(r=a),r=Object.assign({},s.templateSettings,r);var o=RegExp([(r.escape||n).source,(r.interpolate||n).source,(r.evaluate||n).source].join("|")+"|$","g"),u=0,h="__p+='";t.replace(o,function(n,r,s,a,o){return h+=t.slice(u,o).replace(e,i),u=o+n.length,r?h+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":s?h+="'+\n((__t=("+s+"))==null?'':__t)+\n'":a&&(h+="';\n"+a+"\n__p+='"),n}),h+="';\n",r.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var c=new Function(r.variable||"obj","_",h)}catch(t){throw t.source=h,t}var l=this,f=function(t){return c.call(l,t,l)},y=r.variable||"obj";return f.source="function("+y+"){\n"+h+"}",f}return s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},t.template=s}),t("skylark-langx-strings/trim",["./strings"],function(t){return t.trim=function(t){return null==t?"":String.prototype.trim.call(t)}}),t("skylark-langx-strings/trim-null",["./strings"],function(t){const n=/\x00/g;return t.trimNull=function(t){if("string"!=typeof t)return warn("The argument for removeNullCharacters must be a string."),t;return t.replace(n,"")}}),t("skylark-langx-strings/unique-id",["./strings"],function(t){var n=0;return t.uniqueId=function(t){var r=++n+"";return t?t+r:r}}),t("skylark-langx-strings/upper-first",["./strings"],function(t){return t.upperFirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}),t("skylark-langx-strings/words",["./strings"],function(t){const n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r=`[${n}]`,e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",i="[\\u2700-\\u27bf]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]",a=`[^\\ud800-\\udfff${n+"\\d\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde"}]`,o=`(?:${e}|\\ud83c[\\udffb-\\udfff])`,u="[^\\ud800-\\udfff]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f=`(?:${s}|${a})`,y=`(?:${l}|${a})`,p="(?:['](?:d|ll|m|re|s|t|ve))?",g="(?:['](?:D|LL|M|RE|S|T|VE))?",m=`${o}?`,d="[\\ufe0e\\ufe0f]?",x=`(?:\\u200d(?:${[u,h,c].join("|")})${d+m})*`,k=d+m+x,v=`(?:${[i,h,c].join("|")})${k}`,w=RegExp([`${l}?${s}+${p}(?=${[r,l,"$"].join("|")})`,`${y}+${g}(?=${[r,l+f,"$"].join("|")})`,`${l}?${f}+${p}`,`${l}+${g}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",v].join("|"),"g");const _=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),b=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;return t.words=function(t,n){if(void 0===n){const n=_(t)?function(t){return t.match(w)}(t):function(t){return t.match(b)}(t);return n||[]}return t.match(n)||[]}}),t("skylark-langx-strings/main",["./strings","./base64","./camel-case","./dasherize","./deserialize-value","./escape-html","./generate-uuid","./lower-first","./ltrim","./rtrim","./serialize-value","./slugify","./substitute","./template","./trim","./trim-null","./unique-id","./upper-first","./words"],function(t){return t}),t("skylark-langx-strings",["skylark-langx-strings/main"],function(t){return t}),t("skylark-langx/strings",["skylark-langx-strings"],function(t){return t}),t("skylark-langx/stateful",["./Evented","./strings","./objects"],function(t,n,r){var e=r.isEqual,i=r.mixin,s=r.result,a=r.isEmptyObject,o=r.clone,u=n.uniqueId,h=t.inherit({_construct:function(t,n){var r=t||{};n||(n={}),this.cid=u(this.cidPrefix),this.attributes={},n.collection&&(this.collection=n.collection),n.parse&&(r=this.parse(r,n)||{});var e=s(this,"defaults");r=i({},e,r),this.set(r,n),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return o(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,n,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=n):(i={})[t]=n,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,a=r.silent,u=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=o(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var y in i)n=i[y],e(c[y],n)||u.push(y),e(f[y],n)?delete l[y]:l[y]=n,s?delete c[y]:c[y]=n;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){u.length&&(this._pending=r);for(var p=0;p<u.length;p++)this.trigger("change:"+u[p],this,c[u[p]],r)}if(h)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,n){return this.set(t,void 0,i({},n,{unset:!0}))},clear:function(t){var n={};for(var r in this.attributes)n[r]=void 0;return this.set(n,i({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&o(this.changed);var n=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var s=t[i];e(n[i],s)||(r[i]=s)}return!a(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i({},t,{validate:!0}))},_validate:function(t,n){if(!n.validate||!this.validate)return!0;t=i({},this.attributes,t);var r=this.validationError=this.validate(t,n)||null;return!r||(this.trigger("invalid",this,r,i(n,{validationError:r})),!1)}});return h}),t("skylark-langx-topic/topic",["skylark-langx-ns","skylark-langx-events"],function(t,n){var r=new n.Emitter;return t.attach("langx.topic",{publish:function(t,n,e){var i=[].slice.call(arguments,1);return r.trigger({type:t,data:i})},subscribe:function(t,n,e){var i=function(t){n.apply(e,t.data)};return r.on(t,i),{remove:function(){r.off(t,i)}}}})}),t("skylark-langx-topic/main",["./topic"],function(t){return t}),t("skylark-langx-topic",["skylark-langx-topic/main"],function(t){return t}),t("skylark-langx/topic",["skylark-langx-topic"],function(t){return t}),t("skylark-langx/types",["skylark-langx-types"],function(t){return t}),t("skylark-langx-urls/urls",["skylark-langx-ns"],function(t){return t.attach("langx.urls",{})}),t("skylark-langx-urls/create_object_url",["./urls"],function(t){"use strict";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return t.createObjectURL=function(t,r,e=!1){if(!e&&URL.createObjectURL){const n=new Blob([t],{type:r});return URL.createObjectURL(n)}let i=`data:${r};base64,`;for(let r=0,e=t.length;r<e;r+=3){const s=255&t[r],a=255&t[r+1],o=255&t[r+2],u=s>>2,h=(3&s)<<4|a>>4,c=r+1<e?(15&a)<<2|o>>6:64,l=r+2<e?63&o:64;i+=n[u]+n[h]+n[c]+n[l]}return i}}),t("skylark-langx-urls/create_valid_absolute_url",["./urls"],function(t){"use strict";return t.createValidAbsoluteUrl=function(t,n){if(!t)return null;try{const r=n?new URL(t,n):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(t){}return null}}),t("skylark-langx-urls/get-absolute-url",["./urls"],function(t){"use strict";return t.getAbsoluteUrl=function(t){if(!t.match(/^https?:\/\//)){const n=document.createElement("div");n.innerHTML=`<a href="${t}">x</a>`,t=n.firstChild.href}return t}}),t("skylark-langx-urls/get-file-extension",["./urls"],function(t){"use strict";return t.getFileExtension=function(t){if("string"==typeof t){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,r=n.exec(t);if(r)return r.pop().toLowerCase()}return""}}),t("skylark-langx-urls/get-file-name",["./urls"],function(t){"use strict";return t.getFileName=function(t){const n=t.indexOf("#"),r=t.indexOf("?"),e=Math.min(n>0?n:t.length,r>0?r:t.length);return t.substring(t.lastIndexOf("/",e)+1,e)}}),t("skylark-langx-urls/get-query",["./urls"],function(t){"use strict";return t.getQuery=function(t){for(var n={},r=t.split("&"),e=r.length,i=[],s=0;s<e;s++){i=r[s].split("=",2);try{i[0]=decodeURIComponent(i[0]),i[1]=decodeURIComponent(i[1])}catch(t){}void 0===n[i[0]]?n[i[0]]=i[1]:n[i[0]]+=","+i[1]}return n}}),t("skylark-langx-urls/parse-url",["./urls"],function(t){"use strict";return t.parseUrl=function(t){const n=["protocol","hostname","port","pathname","search","hash","host"];let r=document.createElement("a");r.href=t;const e=""===r.host&&"file:"!==r.protocol;let i;e&&((i=document.createElement("div")).innerHTML=`<a href="${t}"></a>`,r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(i));const s={};for(let t=0;t<n.length;t++)s[n[t]]=r[n[t]];"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,""));"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,""));s.protocol||(s.protocol=window.location.protocol);e&&document.body.removeChild(i);return s}}),t("skylark-langx-urls/is-cross-origin",["./urls","./parse-url"],function(t,n){"use strict";return t.isCrossOrigin=function(t,r=window.location){const e=n(t);return(":"===e.protocol?r.protocol:e.protocol)+e.host!==r.protocol+r.host}}),t("skylark-langx-urls/is_same_origin",["./urls"],function(t){"use strict";return t.isSameOrigin=function(t,n){let r;try{if(!(r=new URL(t)).origin||"null"===r.origin)return!1}catch(t){return!1}const e=new URL(n,r);return r.origin===e.origin}}),t("skylark-langx-urls/main",["./urls","./create_object_url","./create_valid_absolute_url","./get-absolute-url","./get-file-extension","./get-file-name","./get-query","./is-cross-origin","./is_same_origin","./parse-url"],function(t){return t}),t("skylark-langx-urls",["skylark-langx-urls/main"],function(t){return t}),t("skylark-langx/urls",["skylark-langx-urls"],function(t){return t}),t("skylark-langx/langx",["./skylark","./arrays","./array-store","./aspect","./async","./binary","./chars","./constructs","./datetimes","./deferred","./emitter","./evented","./events","./funcs","./globals","./hoster","./klass","./maths","./numerics","./objects","./paths","./stateful","./strings","./topic","./types","./urls"],function(t,n,r,e,i,s,a,o,u,h,c,l,f,y,p,g,m,d,x,k,v,w,_,b,M,z){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var A=k.mixin,j=(k.safeMixin,M.isFunction);var E=1;var S=t.attach("langx");return A(S,{createEvent:c.createEvent,funcArg:function(t,n,r,e){return j(n)?n.call(t,r,e):n},getQueryParams:function(t){var n=(t=t||window.location.href).split("?"),r={};n.length>1&&n[1].split("&").forEach(function(t){var n=t.split("=");r[n[0]]=n[1]});return r},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=E++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),A(S,n,e,u,y,x,k,_,M,{ArrayStore:r,async:i,Deferred:h,Emitter:c,Evented:l,hoster:g,klass:m,Stateful:w,topic:b}),S}),t("skylark-langx/main",["./langx"],function(t){return t}),t("skylark-langx",["skylark-langx/main"],function(t){return t})}(r,require),!e){var a=require("skylark-langx-ns");i?module.exports=a:n.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-langx-all.js.map
